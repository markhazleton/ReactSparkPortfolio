//
// Colors
//
// Pre-state grayscale colors used in other variables
$gray-800: #3c4043; // Updated to a neutral dark gray

// Override Bootstrap color system

$orange: #e0a458; // Warmer, less saturated orange

// Override Bootstrap default state colors

$primary: #4f6d7a; // Muted teal-blue
$secondary: #6c757d;
$success: #57886c; // Muted forest green
$info: #7a9eb1; // Muted blue
$warning: #e0a458; // Warmer orange
$danger: #b05f6d; // Muted red

// Custom color palette for light and dark modes

// Light mode colors
$light-theme: (
  'background': #f8f9fa, // Slight off-white
  'background-alt': #eef1f4, // Very light blue-gray
  'foreground': #2d3436, // Dark charcoal
  'foreground-alt': #4a5568, // Medium gray
  'foreground-muted': #718096, // Light slate gray
  'border': #dde2e5, // Light gray border
  'border-light': #e9ecef,
  'card-bg': #ffffff,
  'primary-light': #e9eff2, // Very light teal
  'secondary-light': #e2e3e5,
  'accent': #5a6f80, // Muted blue-gray accent
);

// Dark mode colors
$dark-theme: (
  'background': #1e2022, // Deep charcoal
  'background-alt': #2c3032, // Dark gray with slight blue
  'foreground': #e2e8f0, // Off-white text
  'foreground-alt': #cbd5e0, // Light gray text
  'foreground-muted': #a0aec0, // Muted bluish gray
  'border': #3a4046, // Dark border
  'border-light': #2d3339, // Very dark border
  'card-bg': #252a2e, // Slightly lighter than background
  'primary-light': #344955, // Darker teal
  'secondary-light': #3e444a, // Dark gray
  'accent': #6b7f94, // Muted blue-gray accent
);

// Theme switching functions
@function theme-color($key) {
  @if (lightness(map-get($light-theme, 'background')) > 50) {
    // light mode
    @return map-get($light-theme, $key);
  } @else {
    // dark mode
    @return map-get($dark-theme, $key);
  }
}

// Mixins for applying theme colors
@mixin theme-aware($property, $key) {
  #{$property}: map-get($light-theme, $key);
  
  [data-bs-theme="dark"] & {
    #{$property}: map-get($dark-theme, $key);
  }
}

// CSS variable definitions for theme colors
:root {
  // Base Bootstrap colors as CSS variables
  --bs-primary: #{$primary};
  --bs-secondary: #{$secondary};
  --bs-success: #{$success};
  --bs-info: #{$info};
  --bs-warning: #{$warning};
  --bs-danger: #{$danger};
  
  // Light theme variables
  @each $name, $color in $light-theme {
    --color-#{$name}: #{$color};
  }
}

// Set dark theme variables when dark mode is active
[data-bs-theme="dark"] {
  @each $name, $color in $dark-theme {
    --color-#{$name}: #{$color};
  }
}

// Utility classes for using the custom palette
.bg-theme {
  @include theme-aware(background-color, 'background');
}

.bg-theme-alt {
  @include theme-aware(background-color, 'background-alt');
}

.text-theme {
  @include theme-aware(color, 'foreground');
}

.text-theme-alt {
  @include theme-aware(color, 'foreground-alt');
}

.text-theme-muted {
  @include theme-aware(color, 'foreground-muted');
}

.border-theme {
  @include theme-aware(border-color, 'border');
}

.border-theme-light {
  @include theme-aware(border-color, 'border-light');
}

.bg-card {
  @include theme-aware(background-color, 'card-bg');
}

.accent-color {
  @include theme-aware(color, 'accent');
}

.accent-bg {
  @include theme-aware(background-color, 'accent');
}
