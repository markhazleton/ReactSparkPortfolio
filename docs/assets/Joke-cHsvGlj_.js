import{r as m,R as d,j as s}from"./index-3w4wy5u0.js";import{M as g,C as E}from"./Chat-D9YsCbsh.js";import{P as i}from"./index-DWsf7cW8.js";import{A as k}from"./useMergedRefs-Bkoo7u_N.js";import{S as O,C as j}from"./Spinner-CSrQvV2I.js";import{B as b}from"./Button-DMT9S4Sf.js";var P=["color","size","title","className"];function v(){return v=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},v.apply(null,arguments)}function $(e,a){if(e==null)return{};var t,r,l=z(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],a.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function z(e,a){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(a.includes(r))continue;t[r]=e[r]}return t}var w=m.forwardRef(function(e,a){var t=e.color,r=t===void 0?"currentColor":t,l=e.size,o=l===void 0?"1em":l,u=e.title,n=u===void 0?null:u,c=e.className,h=c===void 0?"":c,p=$(e,P);return d.createElement("svg",v({ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:r,className:["bi","bi-arrow-repeat",h].filter(Boolean).join(" ")},p),n?d.createElement("title",null,n):null,d.createElement("path",{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9"}),d.createElement("path",{fillRule:"evenodd",d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z"}))});w.propTypes={color:i.string,size:i.oneOfType([i.string,i.number]),title:i.string,className:i.string};var S=["color","size","title","className"];function x(){return x=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},x.apply(null,arguments)}function A(e,a){if(e==null)return{};var t,r,l=M(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],a.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function M(e,a){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(a.includes(r))continue;t[r]=e[r]}return t}var y=m.forwardRef(function(e,a){var t=e.color,r=t===void 0?"currentColor":t,l=e.size,o=l===void 0?"1em":l,u=e.title,n=u===void 0?null:u,c=e.className,h=c===void 0?"":c,p=A(e,S);return d.createElement("svg",x({ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:r,className:["bi","bi-emoji-laughing",h].filter(Boolean).join(" ")},p),n?d.createElement("title",null,n):null,d.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),d.createElement("path",{d:"M12.331 9.5a1 1 0 0 1 0 1A5 5 0 0 1 8 13a5 5 0 0 1-4.33-2.5A1 1 0 0 1 4.535 9h6.93a1 1 0 0 1 .866.5M7 6.5c0 .828-.448 0-1 0s-1 .828-1 0S5.448 5 6 5s1 .672 1 1.5m4 0c0 .828-.448 0-1 0s-1 .828-1 0S9.448 5 10 5s1 .672 1 1.5"}))});y.propTypes={color:i.string,size:i.oneOfType([i.string,i.number]),title:i.string,className:i.string};const H=()=>{const[e,a]=m.useState(null),[t,r]=m.useState(!1),[l,o]=m.useState(!1),[u,n]=m.useState(!1),c=async()=>{r(!0),o(!1);try{const f=await fetch("https://v2.jokeapi.dev/joke/Any?safe-mode");if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const N=await f.json();a(N)}catch{o(!0)}finally{r(!1)}};m.useEffect(()=>{c()},[]);const h=()=>{n(!0)},p=()=>{n(!1)};return s.jsxs("div",{className:"container mt-5",children:[s.jsxs("div",{className:"bg-light p-5 rounded mb-4 text-center",children:[s.jsx(y,{size:40,className:"mb-3 text-primary"}),l?s.jsx(k,{variant:"danger",children:"Failed to fetch a joke. Please try again later."}):t?s.jsx(O,{animation:"border",role:"status",className:"mb-3"}):e?e.type==="single"?s.jsx("h2",{className:"mb-3",children:e.joke}):s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"mb-3",children:e.setup}),s.jsx("hr",{}),s.jsx("h3",{className:"fw-bold",children:e.delivery})]}):s.jsx("h2",{children:"No joke available."})]}),s.jsxs("div",{className:"text-center mb-4",children:[s.jsxs(b,{variant:"success",onClick:c,disabled:t,children:[s.jsx(w,{className:"me-2"})," Get Another Joke"]}),s.jsx(b,{variant:"secondary",onClick:h,className:"ms-3",children:"Joke Explainer"})]}),s.jsxs(j,{className:"mb-5",children:[s.jsx(j.Header,{className:"bg-primary text-white",children:"Joke Explainer Video"}),s.jsx(j.Body,{className:"text-center",children:s.jsx("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/R9UPM9fHW-Y?si=njUwkztHdfm_8nBR",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}),s.jsx(j.Footer,{className:"text-muted",children:"Enjoy the video and don't forget to subscribe to the channel!  This is a video to explain the Joke Explainer functionality."})]}),s.jsxs(g,{show:u,onHide:p,size:"lg",centered:!0,children:[s.jsx(g.Header,{closeButton:!0,children:s.jsx(g.Title,{children:"Joke Explainer"})}),s.jsx(g.Body,{style:{height:"80vh",overflow:"hidden"},children:s.jsx("div",{style:{height:"100%",overflowY:"auto"},children:s.jsx(E,{variantName:"Joke Explainer",initialMessage:e?e.type==="single"?e.joke:`${e.setup} ${e.delivery}`:"No joke available to explain."})})})]})]})};export{H as default};
