import{_ as ln,R as He,V as te,i as H,e as Lt,U as Dn,s as at,r as T,a as je,u as Ti,g as Xn,m as So,f as X,h as wo,k as Co,l as ko,n as xo,o as Eo,p as Io,t as To,q as Ro,v as Po,w as Lo,x as Mo,y as Ao,z as Do,A as Oo,B as Fo,C as zo,d as dr,j as fe,T as No}from"./index-D9WdJhI_.js";import{B as pr}from"./Button-CUq45uhU.js";var Bo={OS:"web",select:t=>"web"in t?t.web:t.default,get isTesting(){return!1}},Ho=function t(e,n,r){if(r===void 0&&(r=-1),r===0)return!0;if(e===n||typeof e=="function"&&typeof n=="function")return!1;if(typeof e!="object"||e===null)return e!==n;if(typeof n!="object"||n===null||e.constructor!==n.constructor)return!0;if(Array.isArray(e)){var i=e.length;if(n.length!==i)return!0;for(var o=0;o<i;o++)if(t(e[o],n[o],r-1))return!0}else{for(var s in e)if(t(e[s],n[s],r-1))return!0;for(var l in n)if(e[l]===void 0&&n[l]!==void 0)return!0}return!1};function gr(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $o(t,e){if(t){if(typeof t=="string")return gr(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gr(t,e):void 0}}function rt(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=$o(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var jo=["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"];function Vo(t){t.colors,t.enabled,t.onRefresh,t.progressBackgroundColor,t.progressViewOffset,t.refreshing,t.size,t.tintColor,t.title,t.titleColor;var e=ln(t,jo);return He.createElement(te,e)}var it={window:{fontScale:1,height:0,scale:1,width:0},screen:{fontScale:1,height:0,scale:1,width:0}},Qe={},mr=Lt;function Ri(){if(Lt){var t=window,e,n;if(t.visualViewport){var r=t.visualViewport;e=Math.round(r.height*r.scale),n=Math.round(r.width*r.scale)}else{var i=t.document.documentElement;e=i.clientHeight,n=i.clientWidth}it.window={fontScale:1,height:e,scale:t.devicePixelRatio||1,width:n},it.screen={fontScale:1,height:t.screen.height,scale:t.devicePixelRatio||1,width:t.screen.width}}}function yr(){Ri(),Array.isArray(Qe.change)&&Qe.change.forEach(t=>t(it))}class Uo{static get(e){return mr&&(mr=!1,Ri()),H(it[e],"No dimension set for key "+e),it[e]}static set(e){e&&(Lt?H(!1,"Dimensions cannot be set in the browser"):(e.screen!=null&&(it.screen=e.screen),e.window!=null&&(it.window=e.window)))}static addEventListener(e,n){return Qe[e]=Qe[e]||[],Qe[e].push(n),{remove:()=>{this.removeEventListener(e,n)}}}static removeEventListener(e,n){Array.isArray(Qe[e])&&(Qe[e]=Qe[e].filter(r=>r!==n))}}Lt&&(window.visualViewport?window.visualViewport.addEventListener("resize",yr,!1):window.addEventListener("resize",yr,!1));var $e={_currentlyFocusedNode:null,currentlyFocusedField(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput(t){t!==null&&(this._currentlyFocusedNode=t,document.activeElement!==t&&Dn.focus(t))},blurTextInput(t){t!==null&&(this._currentlyFocusedNode=null,document.activeElement===t&&Dn.blur(t))}},Wo=()=>{$e.blurTextInput($e.currentlyFocusedField())},Ko=["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"];function _r(t){return{nativeEvent:{contentOffset:{get x(){return t.target.scrollLeft},get y(){return t.target.scrollTop}},contentSize:{get height(){return t.target.scrollHeight},get width(){return t.target.scrollWidth}},layoutMeasurement:{get height(){return t.target.offsetHeight},get width(){return t.target.offsetWidth}}},timeStamp:Date.now()}}function qo(t,e){var n=Date.now()-t;return e>0&&n>=e}var Xo=T.forwardRef((t,e)=>{var n=t.onScroll,r=t.onTouchMove,i=t.onWheel,o=t.scrollEnabled,s=o===void 0?!0:o,l=t.scrollEventThrottle,a=l===void 0?0:l,u=t.showsHorizontalScrollIndicator,c=t.showsVerticalScrollIndicator,h=t.style,d=ln(t,Ko),f=T.useRef({isScrolling:!1,scrollLastTick:0}),m=T.useRef(null),_=T.useRef(null);function w(y){return L=>{s&&y&&y(L)}}function b(y){y.stopPropagation(),y.target===_.current&&(y.persist(),m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{E(y)},100),f.current.isScrolling?qo(f.current.scrollLastTick,a)&&C(y):x(y))}function x(y){f.current.isScrolling=!0,C(y)}function C(y){f.current.scrollLastTick=Date.now(),n&&n(_r(y))}function E(y){f.current.isScrolling=!1,n&&n(_r(y))}var R=u===!1||c===!1;return T.createElement(te,je({},d,{onScroll:b,onTouchMove:w(r),onWheel:w(i),ref:Ti(_,e),style:[h,!s&&br.scrollDisabled,R&&br.hideScrollbar]}))}),br=at.create({scrollDisabled:{overflowX:"hidden",overflowY:"hidden",touchAction:"none"},hideScrollbar:{scrollbarWidth:"none"}});function an(t){return function(){return t}}var ut=function(){};ut.thatReturns=an;ut.thatReturnsFalse=an(!1);ut.thatReturnsTrue=an(!0);ut.thatReturnsNull=an(null);ut.thatReturnsThis=function(){return this};ut.thatReturnsArgument=function(t){return t};var Yo=ut,Qo=Yo,Jo=Qo,Go=Jo;const Zo=Xn(Go);var es=["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll","centerContent"],vr={},ts=16;class ns extends He.Component{constructor(){super(...arguments),this._scrollNodeRef=null,this._innerViewRef=null,this.isTouching=!1,this.lastMomentumScrollBeginTime=0,this.lastMomentumScrollEndTime=0,this.observedScrollSinceBecomingResponder=!1,this.becameResponderWhileAnimating=!1,this.scrollResponderHandleScrollShouldSetResponder=()=>this.isTouching,this.scrollResponderHandleStartShouldSetResponderCapture=e=>this.scrollResponderIsAnimating(),this.scrollResponderHandleTerminationRequest=()=>!this.observedScrollSinceBecomingResponder,this.scrollResponderHandleTouchEnd=e=>{var n=e.nativeEvent;this.isTouching=n.touches.length!==0,this.props.onTouchEnd&&this.props.onTouchEnd(e)},this.scrollResponderHandleResponderRelease=e=>{this.props.onResponderRelease&&this.props.onResponderRelease(e);var n=$e.currentlyFocusedField();!this.props.keyboardShouldPersistTaps&&n!=null&&e.target!==n&&!this.observedScrollSinceBecomingResponder&&!this.becameResponderWhileAnimating&&(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(e),$e.blurTextInput(n))},this.scrollResponderHandleScroll=e=>{this.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(e)},this.scrollResponderHandleResponderGrant=e=>{this.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(e),this.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},this.scrollResponderHandleScrollBeginDrag=e=>{this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},this.scrollResponderHandleScrollEndDrag=e=>{this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},this.scrollResponderHandleMomentumScrollBegin=e=>{this.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},this.scrollResponderHandleMomentumScrollEnd=e=>{this.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},this.scrollResponderHandleTouchStart=e=>{this.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(e)},this.scrollResponderHandleTouchMove=e=>{this.props.onTouchMove&&this.props.onTouchMove(e)},this.scrollResponderIsAnimating=()=>{var e=Date.now(),n=e-this.lastMomentumScrollEndTime,r=n<ts||this.lastMomentumScrollEndTime<this.lastMomentumScrollBeginTime;return r},this.scrollResponderScrollTo=(e,n,r)=>{if(typeof e=="number")console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var i=e||vr;e=i.x,n=i.y,r=i.animated}var o=this.getScrollableNode(),s=e||0,l=n||0;o!=null&&(typeof o.scroll=="function"?o.scroll({top:l,left:s,behavior:r?"smooth":"auto"}):(o.scrollLeft=s,o.scrollTop=l))},this.scrollResponderZoomTo=(e,n)=>{H("zoomToRect is not implemented")},this.scrollResponderScrollNativeHandleToKeyboard=(e,n,r)=>{this.additionalScrollOffset=n||0,this.preventNegativeScrollOffset=!!r,Dn.measureLayout(e,this.getInnerViewNode(),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},this.scrollResponderInputMeasureAndScrollToKeyboard=(e,n,r,i)=>{var o=Uo.get("window").height;this.keyboardWillOpenTo&&(o=this.keyboardWillOpenTo.endCoordinates.screenY);var s=n-o+i+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(s=Math.max(0,s)),this.scrollResponderScrollTo({x:0,y:s,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},this.scrollResponderKeyboardWillShow=e=>{this.keyboardWillOpenTo=e,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(e)},this.scrollResponderKeyboardWillHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(e)},this.scrollResponderKeyboardDidShow=e=>{e&&(this.keyboardWillOpenTo=e),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(e)},this.scrollResponderKeyboardDidHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(e)},this.flashScrollIndicators=()=>{this.scrollResponderFlashScrollIndicators()},this.getScrollResponder=()=>this,this.getScrollableNode=()=>this._scrollNodeRef,this.getInnerViewRef=()=>this._innerViewRef,this.getInnerViewNode=()=>this._innerViewRef,this.getNativeScrollRef=()=>this._scrollNodeRef,this.scrollTo=(e,n,r)=>{if(typeof e=="number")console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var i=e||vr;n=i.x,e=i.y,r=i.animated}this.scrollResponderScrollTo({x:n||0,y:e||0,animated:r!==!1})},this.scrollToEnd=e=>{var n=(e&&e.animated)!==!1,r=this.props.horizontal,i=this.getScrollableNode(),o=r?i.scrollWidth:0,s=r?0:i.scrollHeight;this.scrollResponderScrollTo({x:o,y:s,animated:n})},this._handleContentOnLayout=e=>{var n=e.nativeEvent.layout,r=n.width,i=n.height;this.props.onContentSizeChange(r,i)},this._handleScroll=e=>{this.props.keyboardDismissMode==="on-drag"&&Wo(),this.scrollResponderHandleScroll(e)},this._setInnerViewRef=e=>{this._innerViewRef=e},this._setScrollNodeRef=e=>{this._scrollNodeRef=e,e!=null&&(e.getScrollResponder=this.getScrollResponder,e.getInnerViewNode=this.getInnerViewNode,e.getInnerViewRef=this.getInnerViewRef,e.getNativeScrollRef=this.getNativeScrollRef,e.getScrollableNode=this.getScrollableNode,e.scrollTo=this.scrollTo,e.scrollToEnd=this.scrollToEnd,e.flashScrollIndicators=this.flashScrollIndicators,e.scrollResponderZoomTo=this.scrollResponderZoomTo,e.scrollResponderScrollNativeHandleToKeyboard=this.scrollResponderScrollNativeHandleToKeyboard);var n=So(this.props.forwardedRef);n(e)}}scrollResponderHandleStartShouldSetResponder(){return!1}scrollResponderHandleResponderReject(){Zo(!1,"ScrollView doesn't take rejection well - scrolls anyway")}scrollResponderFlashScrollIndicators(){}scrollResponderTextInputFocusError(e){console.error("Error measuring text field: ",e)}render(){var e=this.props,n=e.contentContainerStyle,r=e.horizontal,i=e.onContentSizeChange,o=e.refreshControl,s=e.stickyHeaderIndices,l=e.pagingEnabled;e.forwardedRef,e.keyboardDismissMode,e.onScroll;var a=e.centerContent,u=ln(e,es),c={};i&&(c={onLayout:this._handleContentOnLayout});var h=!r&&Array.isArray(s),d=h||l?He.Children.map(this.props.children,(C,E)=>{var R=h&&s.indexOf(E)>-1;return C!=null&&(R||l)?He.createElement(te,{style:[R&&Xe.stickyHeader,l&&Xe.pagingEnabledChild]},C):C}):this.props.children,f=He.createElement(te,je({},c,{children:d,collapsable:!1,ref:this._setInnerViewRef,style:[r&&Xe.contentContainerHorizontal,a&&Xe.contentContainerCenterContent,n]})),m=r?Xe.baseHorizontal:Xe.baseVertical,_=r?Xe.pagingEnabledHorizontal:Xe.pagingEnabledVertical,w=X(X({},u),{},{style:[m,l&&_,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),b=Xo;H(b!==void 0,"ScrollViewClass must not be undefined");var x=He.createElement(b,je({},w,{ref:this._setScrollNodeRef}),f);return o?He.cloneElement(o,{style:w.style},x):x}}var Sr={flexGrow:1,flexShrink:1,transform:"translateZ(0)",WebkitOverflowScrolling:"touch"},Xe=at.create({baseVertical:X(X({},Sr),{},{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:X(X({},Sr),{},{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},contentContainerCenterContent:{justifyContent:"center",flexGrow:1},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}}),On=He.forwardRef((t,e)=>He.createElement(ns,je({},t,{forwardedRef:e})));On.displayName="ScrollView";class rs{constructor(e){var n=e.onMoreTasks;this._onMoreTasks=n,this._queueStack=[{tasks:[],popable:!0}]}enqueue(e){this._getCurrentQueue().push(e)}enqueueTasks(e){e.forEach(n=>this.enqueue(n))}cancelTasks(e){this._queueStack=this._queueStack.map(n=>X(X({},n),{},{tasks:n.tasks.filter(r=>e.indexOf(r)===-1)})).filter((n,r)=>n.tasks.length>0||r===0)}hasTasksToProcess(){return this._getCurrentQueue().length>0}processNext(){var e=this._getCurrentQueue();if(e.length){var n=e.shift();try{typeof n=="object"&&n.gen?this._genPromise(n):typeof n=="object"&&n.run?n.run():(H(typeof n=="function",`Expected Function, SimpleTask, or PromiseTask, but got:
`+JSON.stringify(n,null,2)),n())}catch(r){throw r.message="TaskQueue: Error with task "+(n.name||"")+": "+r.message,r}}}_getCurrentQueue(){var e=this._queueStack.length-1,n=this._queueStack[e];return n.popable&&n.tasks.length===0&&e>0?(this._queueStack.pop(),this._getCurrentQueue()):n.tasks}_genPromise(e){var n=this._queueStack.push({tasks:[],popable:!1}),r=n-1,i=this._queueStack[r];e.gen().then(()=>{i.popable=!0,this.hasTasksToProcess()&&this._onMoreTasks()}).catch(o=>{setTimeout(()=>{throw o.message="TaskQueue: Error resolving Promise in task "+e.name+": "+o.message,o},0)})}}class is{constructor(){this._registry={}}addListener(e,n,r){var i=os(this._registry,e),o={context:r,listener:n,remove(){i.delete(o)}};return i.add(o),o}emit(e){var n=this._registry[e];if(n!=null){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(var s=0,l=[...n];s<l.length;s++){var a=l[s];a.listener.apply(a.context,i)}}}removeAllListeners(e){e==null?this._registry={}:delete this._registry[e]}listenerCount(e){var n=this._registry[e];return n==null?0:n.size}}function os(t,e){var n=t[e];return n==null&&(n=new Set,t[e]=n),n}var ss=function(e,n){return setTimeout(()=>{var r=Date.now();e({didTimeout:!1,timeRemaining(){return Math.max(0,50-(Date.now()-r))}})},1)},ls=Lt&&typeof window.requestIdleCallback<"u",as=ls?window.requestIdleCallback:ss,Qt=new is,Fn={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions(t){var e=[],n=new Promise(r=>{xt(),t&&e.push(t),e.push({run:r,name:"resolve "+(t&&t.name||"?")}),Gt.enqueueTasks(e)});return{then:n.then.bind(n),done:n.then.bind(n),cancel:()=>{Gt.cancelTasks(e)}}},createInteractionHandle(){xt();var t=++us;return Jt.add(t),t},clearInteractionHandle(t){H(!!t,"Must provide a handle to clear."),xt(),Jt.delete(t),zn.add(t)},addListener:Qt.addListener.bind(Qt),setDeadline(t){Zt=t}},Ht=new Set,Jt=new Set,zn=new Set,Gt=new rs({onMoreTasks:xt}),Kt=0,us=0,Zt=-1;function xt(){Kt||(Zt>0?Kt=setTimeout(wr):Kt=as(wr))}function wr(){Kt=0;var t=Ht.size;Jt.forEach(r=>Ht.add(r)),zn.forEach(r=>Ht.delete(r));var e=Ht.size;if(t!==0&&e===0?Qt.emit(Fn.Events.interactionComplete):t===0&&e!==0&&Qt.emit(Fn.Events.interactionStart),e===0){for(var n=Date.now();Gt.hasTasksToProcess();)if(Gt.processNext(),Zt>0&&Date.now()-n>=Zt){xt();break}}Jt.clear(),zn.clear()}class cs{constructor(e,n){this._delay=n,this._callback=e}dispose(e){e===void 0&&(e={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),e.abort||this._callback(),this._taskHandle=null)}schedule(){if(!this._taskHandle){var e=setTimeout(()=>{this._taskHandle=Fn.runAfterInteractions(()=>{this._taskHandle=null,this._callback()})},this._delay);this._taskHandle={cancel:()=>clearTimeout(e)}}}}function Cr(t,e,n){return e<t?t:e>n?n:e}function hs(){return console.log(...arguments)}class fs{constructor(e){H(e>=0,"CellRenderMask must contain a non-negative number os cells"),this._numCells=e,e===0?this._regions=[]:this._regions=[{first:0,last:e-1,isSpacer:!0}]}enumerateRegions(){return this._regions}addCells(e){if(H(e.first>=0&&e.first<this._numCells&&e.last>=-1&&e.last<this._numCells&&e.last>=e.first-1,"CellRenderMask.addCells called with invalid cell range"),!(e.last<e.first)){var n=this._findRegion(e.first),r=n[0],i=n[1],o=this._findRegion(e.last),s=o[0],l=o[1];if(!(i===l&&!r.isSpacer)){var a=[],u=[],c=X(X({},e),{},{isSpacer:!1});r.first<c.first&&(r.isSpacer?a.push({first:r.first,last:c.first-1,isSpacer:!0}):c.first=r.first),s.last>c.last&&(s.isSpacer?u.push({first:c.last+1,last:s.last,isSpacer:!0}):c.last=s.last);var h=[...a,c,...u],d=l-i+1;this._regions.splice(i,d,...h)}}}numCells(){return this._numCells}equals(e){return this._numCells===e._numCells&&this._regions.length===e._regions.length&&this._regions.every((n,r)=>n.first===e._regions[r].first&&n.last===e._regions[r].last&&n.isSpacer===e._regions[r].isSpacer)}_findRegion(e){for(var n=0,r=this._regions.length-1;n<=r;){var i=Math.floor((n+r)/2),o=this._regions[i];if(e>=o.first&&e<=o.last)return[o,i];e<o.first?r=i-1:e>o.last&&(n=i+1)}H(!1,"A region was not found containing cellIdx "+e)}}class ds{constructor(){this._cellKeyToChildren=new Map,this._childrenToCellKey=new Map}add(e,n){var r;H(!this._childrenToCellKey.has(e),"Trying to add already present child list");var i=(r=this._cellKeyToChildren.get(n))!==null&&r!==void 0?r:new Set;i.add(e),this._cellKeyToChildren.set(n,i),this._childrenToCellKey.set(e,n)}remove(e){var n=this._childrenToCellKey.get(e);H(n!=null,"Trying to remove non-present child list"),this._childrenToCellKey.delete(e);var r=this._cellKeyToChildren.get(n);H(r,"_cellKeyToChildren should contain cellKey"),r.delete(e),r.size===0&&this._cellKeyToChildren.delete(n)}forEach(e){for(var n=rt(this._cellKeyToChildren.values()),r;!(r=n()).done;)for(var i=r.value,o=rt(i),s;!(s=o()).done;){var l=s.value;e(l)}}forEachInCell(e,n){for(var r,i=(r=this._cellKeyToChildren.get(e))!==null&&r!==void 0?r:[],o=rt(i),s;!(s=o()).done;){var l=s.value;n(l)}}anyInCell(e,n){for(var r,i=(r=this._cellKeyToChildren.get(e))!==null&&r!==void 0?r:[],o=rt(i),s;!(s=o()).done;){var l=s.value;if(n(l))return!0}return!1}size(){return this._childrenToCellKey.size}}let kr=class{constructor(){this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}};var $t=[],xr=10,gn=null;class ps{static addListener(e){return gn===null&&console.warn("Call `FillRateHelper.setSampleRate` before `addListener`."),$t.push(e),{remove:()=>{$t=$t.filter(n=>e!==n)}}}static setSampleRate(e){gn=e}static setMinSampleCount(e){xr=e}constructor(e){this._anyBlankStartTime=null,this._enabled=!1,this._info=new kr,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=e,this._enabled=(gn||0)>Math.random(),this._resetData()}activate(){this._enabled&&this._samplesStartTime==null&&(this._samplesStartTime=global.performance.now())}deactivateAndFlush(){if(this._enabled){var e=this._samplesStartTime;if(e!=null){if(this._info.sample_count<xr){this._resetData();return}var n=global.performance.now()-e,r=X(X({},this._info),{},{total_time_spent:n});$t.forEach(i=>i(r)),this._resetData()}}}computeBlankness(e,n,r){if(!this._enabled||e.getItemCount(e.data)===0||n.last<n.first||this._samplesStartTime==null)return 0;var i=r.dOffset,o=r.offset,s=r.velocity,l=r.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(l),this._info.pixels_scrolled+=Math.round(Math.abs(i));var a=Math.round(Math.abs(s)*1e3),u=global.performance.now();this._anyBlankStartTime!=null&&(this._info.any_blank_ms+=u-this._anyBlankStartTime),this._anyBlankStartTime=null,this._mostlyBlankStartTime!=null&&(this._info.mostly_blank_ms+=u-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var c=0,h=n.first,d=this._getFrameMetrics(h,e);h<=n.last&&(!d||!d.inLayout);)d=this._getFrameMetrics(h,e),h++;d&&h>0&&(c=Math.min(l,Math.max(0,d.offset-o)));for(var f=0,m=n.last,_=this._getFrameMetrics(m,e);m>=n.first&&(!_||!_.inLayout);)_=this._getFrameMetrics(m,e),m--;if(_&&m<e.getItemCount(e.data)-1){var w=_.offset+_.length;f=Math.min(l,Math.max(0,o+l-w))}var b=Math.round(c+f),x=b/l;return x>0?(this._anyBlankStartTime=u,this._info.any_blank_speed_sum+=a,this._info.any_blank_count++,this._info.pixels_blank+=b,x>.5&&(this._mostlyBlankStartTime=u,this._info.mostly_blank_count++)):(a<.01||Math.abs(i)<1)&&this.deactivateAndFlush(),x}enabled(){return this._enabled}_resetData(){this._anyBlankStartTime=null,this._info=new kr,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}class gs extends T.PureComponent{constructor(e){super(e),this._inAsyncStateUpdate=!1,this._installSetStateHooks()}setState(e,n){typeof e=="function"?super.setState((r,i)=>{this._inAsyncStateUpdate=!0;var o;try{o=e(r,i)}catch(s){throw s}finally{this._inAsyncStateUpdate=!1}return o},n):super.setState(e,n)}_installSetStateHooks(){var e=this,n=this.props,r=this.state;Object.defineProperty(this,"props",{get(){return H(!e._inAsyncStateUpdate,'"this.props" should not be accessed during state updates'),n},set(i){n=i}}),Object.defineProperty(this,"state",{get(){return H(!e._inAsyncStateUpdate,'"this.state" should not be acceessed during state updates'),r},set(i){r=i}})}}class Er{constructor(e){e===void 0&&(e={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=e}dispose(){this._timers.forEach(clearTimeout)}computeViewableItems(e,n,r,i,o){var s=e.getItemCount(e.data),l=this._config,a=l.itemVisiblePercentThreshold,u=l.viewAreaCoveragePercentThreshold,c=u!=null,h=c?u:a;H(h!=null&&a!=null!=(u!=null),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var d=[];if(s===0)return d;var f=-1,m=o||{first:0,last:s-1},_=m.first,w=m.last;if(w>=s)return console.warn("Invalid render range computing viewability "+JSON.stringify({renderRange:o,itemCount:s})),[];for(var b=_;b<=w;b++){var x=i(b,e);if(x){var C=x.offset-n,E=C+x.length;if(C<r&&E>0)f=b,ms(c,h,C,E,r,x.length)&&d.push(b);else if(f>=0)break}}return d}onUpdate(e,n,r,i,o,s,l){var a=e.getItemCount(e.data);if(!(this._config.waitForInteraction&&!this._hasInteracted||a===0||!i(0,e))){var u=[];if(a&&(u=this.computeViewableItems(e,n,r,i,l)),!(this._viewableIndices.length===u.length&&this._viewableIndices.every((h,d)=>h===u[d])))if(this._viewableIndices=u,this._config.minimumViewTime){var c=setTimeout(()=>{this._timers.delete(c),this._onUpdateSync(e,u,s,o)},this._config.minimumViewTime);this._timers.add(c)}else this._onUpdateSync(e,u,s,o)}}resetViewableIndices(){this._viewableIndices=[]}recordInteraction(){this._hasInteracted=!0}_onUpdateSync(e,n,r,i){n=n.filter(x=>this._viewableIndices.includes(x));for(var o=this._viewableItems,s=new Map(n.map(x=>{var C=i(x,!0,e);return[C.key,C]})),l=[],a=rt(s),u;!(u=a()).done;){var c=u.value,h=c[0],d=c[1];o.has(h)||l.push(d)}for(var f=rt(o),m;!(m=f()).done;){var _=m.value,w=_[0],b=_[1];s.has(w)||l.push(X(X({},b),{},{isViewable:!1}))}l.length>0&&(this._viewableItems=s,r({viewableItems:Array.from(s.values()),changed:l,viewabilityConfig:this._config}))}}function ms(t,e,n,r,i,o){if(_s(n,r,i))return!0;var s=ys(n,r,i),l=100*(t?s/i:s/o);return l>=e}function ys(t,e,n){var r=Math.min(e,n)-Math.max(t,0);return Math.max(0,r)}function _s(t,e,n){return t>=0&&e<=n&&e>t}var en=T.createContext(null);function bs(t){var e=t.children,n=t.value,r=T.useMemo(()=>({cellKey:null,getScrollMetrics:n.getScrollMetrics,horizontal:n.horizontal,getOutermostParentListRef:n.getOutermostParentListRef,registerAsNestedChild:n.registerAsNestedChild,unregisterAsNestedChild:n.unregisterAsNestedChild}),[n.getScrollMetrics,n.horizontal,n.getOutermostParentListRef,n.registerAsNestedChild,n.unregisterAsNestedChild]);return T.createElement(en.Provider,{value:r},e)}function qt(t){var e=t.cellKey,n=t.children,r=T.useContext(en),i=T.useMemo(()=>r==null?null:X(X({},r),{},{cellKey:e}),[r,e]);return T.createElement(en.Provider,{value:i},n)}class vs extends T.Component{constructor(){super(...arguments),this.state={separatorProps:{highlighted:!1,leadingItem:this.props.item}},this._separators={highlight:()=>{var e=this.props,n=e.cellKey,r=e.prevCellKey;this.props.onUpdateSeparators([n,r],{highlighted:!0})},unhighlight:()=>{var e=this.props,n=e.cellKey,r=e.prevCellKey;this.props.onUpdateSeparators([n,r],{highlighted:!1})},updateProps:(e,n)=>{var r=this.props,i=r.cellKey,o=r.prevCellKey;this.props.onUpdateSeparators([e==="leading"?o:i],n)}},this._onLayout=e=>{this.props.onCellLayout&&this.props.onCellLayout(e,this.props.cellKey,this.props.index)}}static getDerivedStateFromProps(e,n){return{separatorProps:X(X({},n.separatorProps),{},{leadingItem:e.item})}}updateSeparatorProps(e){this.setState(n=>({separatorProps:X(X({},n.separatorProps),e)}))}componentWillUnmount(){this.props.onUnmount(this.props.cellKey)}_renderElement(e,n,r,i){if(e&&n&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),n)return T.createElement(n,{item:r,index:i,separators:this._separators});if(e)return e({item:r,index:i,separators:this._separators});H(!1,"VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.")}render(){var e=this.props,n=e.CellRendererComponent,r=e.ItemSeparatorComponent,i=e.ListItemComponent,o=e.cellKey,s=e.horizontal,l=e.item,a=e.index,u=e.inversionStyle,c=e.onCellFocusCapture,h=e.onCellLayout,d=e.renderItem,f=this._renderElement(d,i,l,a),m=T.isValidElement(r)?r:r&&T.createElement(r,this.state.separatorProps),_=u?s?[mn.rowReverse,u]:[mn.columnReverse,u]:s?[mn.row,u]:u,w=n?T.createElement(n,je({cellKey:o,index:a,item:l,style:_,onFocusCapture:c},h&&{onLayout:this._onLayout}),f,m):T.createElement(te,je({style:_,onFocusCapture:c},h&&{onLayout:this._onLayout}),f,m);return T.createElement(qt,{cellKey:this.props.cellKey},w)}}var mn=at.create({row:{flexDirection:"row"},rowReverse:{flexDirection:"row-reverse"},columnReverse:{flexDirection:"column-reverse"}});function Ss(t,e,n,r){r===void 0&&(r=1);for(var i=e.getItemCount(e.data),o=[],s=0;s<t.length;s++)for(var l=t[s],a=0,u=i-1;a<=u;){var c=a+(u-a>>>1),h=n(c,e),d=h.offset*r,f=(h.offset+h.length)*r;if(c===0&&l<d||c!==0&&l<=d)u=c-1;else if(l>f)a=c+1;else{o[s]=c;break}}return o}function ws(t,e){return e.last-e.first+1-Math.max(0,1+Math.min(e.last,t.last)-Math.max(e.first,t.first))}function Cs(t,e,n,r,i,o){var s=t.getItemCount(t.data);if(s===0)return{first:0,last:-1};var l=o.offset,a=o.velocity,u=o.visibleLength,c=o.zoomScale,h=c===void 0?1:c,d=Math.max(0,l),f=d+u,m=(n-1)*u,_=.5,w=a>1?"after":a<-1?"before":"none",b=Math.max(0,d-(1-_)*m),x=Math.max(0,f+_*m),C=i(s-1,t).offset*h;if(C<b)return{first:Math.max(0,s-1-e),last:s-1};var E=Ss([b,d,f,x],t,i,h),R=E[0],y=E[1],L=E[2],D=E[3];R=R??0,y=y??Math.max(0,R),D=D??s-1,L=L??Math.min(D,y+e-1);for(var $={first:y,last:L},V=ws(r,$);!(y<=R&&L>=D);){var P=V>=e,M=y<=r.first||y>r.last,U=y>R&&(!P||!M),K=L>=r.last||L<r.first,z=L<D&&(!P||!K);if(P&&!U&&!z)break;U&&!(w==="after"&&z&&K)&&(M&&V++,y--),z&&!(w==="before"&&U&&M)&&(K&&V++,L++)}if(!(L>=y&&y>=0&&L<s&&y>=R&&L<=D&&y<=$.first&&L>=$.last))throw new Error("Bad window calculation "+JSON.stringify({first:y,last:L,itemCount:s,overscanFirst:R,overscanLast:D,visible:$}));return{first:y,last:L}}function Nn(t,e){return typeof t=="object"&&(t==null?void 0:t.key)!=null?t.key:typeof t=="object"&&(t==null?void 0:t.id)!=null?t.id:String(e)}var un={exports:{}};function Pi(t,e){if(t!=null)return t;var n=new Error(e!==void 0?e:"Got unexpected "+t);throw n.framesToPop=1,n}un.exports=Pi;un.exports.default=Pi;Object.defineProperty(un.exports,"__esModule",{value:!0});var ks=un.exports;const xs=Xn(ks);var Ir=.001,yn=!1,_n="";function et(t){return t??!1}function Es(t){return t??10}function bn(t){return t??10}function Is(t){return t??2}function Tr(t){return t??2}function Rr(t,e){return t*e/2}function Ts(t){return t??50}function Pr(t){return t??21}function Rs(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return t[n];return null}class Ce extends gs{scrollToEnd(e){var n=e?e.animated:!0,r=this.props.getItemCount(this.props.data)-1;if(!(r<0)){var i=this.__getFrameMetricsApprox(r,this.props),o=Math.max(0,i.offset+i.length+this._footerLength-this._scrollMetrics.visibleLength);if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(et(this.props.horizontal)?{x:o,animated:n}:{y:o,animated:n})}}}scrollToIndex(e){var n=this.props,r=n.data,i=n.horizontal,o=n.getItemCount,s=n.getItemLayout,l=n.onScrollToIndexFailed,a=e.animated,u=e.index,c=e.viewOffset,h=e.viewPosition;if(H(u>=0,"scrollToIndex out of range: requested index "+u+" but minimum is 0"),H(o(r)>=1,"scrollToIndex out of range: item length "+o(r)+" but minimum is 1"),H(u<o(r),"scrollToIndex out of range: requested index "+u+" is out of 0 to "+(o(r)-1)),!s&&u>this._highestMeasuredFrameIndex){H(!!l,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),l({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:u});return}var d=this.__getFrameMetricsApprox(Math.floor(u),this.props),f=Math.max(0,this._getOffsetApprox(u,this.props)-(h||0)*(this._scrollMetrics.visibleLength-d.length))-(c||0);if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(i?{x:f,animated:a}:{y:f,animated:a})}}scrollToItem(e){for(var n=e.item,r=this.props,i=r.data,o=r.getItem,s=r.getItemCount,l=s(i),a=0;a<l;a++)if(o(i,a)===n){this.scrollToIndex(X(X({},e),{},{index:a}));break}}scrollToOffset(e){var n=e.animated,r=e.offset;if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(et(this.props.horizontal)?{x:r,animated:n}:{y:r,animated:n})}}recordInteraction(){this._nestedChildLists.forEach(e=>{e.recordInteraction()}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.recordInteraction()}),this._updateViewableItems(this.props,this.state.cellsAroundViewport)}flashScrollIndicators(){this._scrollRef!=null&&this._scrollRef.flashScrollIndicators()}getScrollResponder(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}getScrollableNode(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():this._scrollRef}getScrollRef(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}_getCellKey(){var e;return((e=this.context)==null?void 0:e.cellKey)||"rootList"}hasMore(){return this._hasMore}constructor(e){var n;if(super(e),this._getScrollMetrics=()=>this._scrollMetrics,this._getOutermostParentListRef=()=>this._isNestedWithSameOrientation()?this.context.getOutermostParentListRef():this,this._registerAsNestedChild=l=>{this._nestedChildLists.add(l.ref,l.cellKey),this._hasInteracted&&l.ref.recordInteraction()},this._unregisterAsNestedChild=l=>{this._nestedChildLists.remove(l.ref)},this._onUpdateSeparators=(l,a)=>{l.forEach(u=>{var c=u!=null&&this._cellRefs[u];c&&c.updateSeparatorProps(a)})},this._getSpacerKey=l=>l?"height":"width",this._averageCellLength=0,this._cellRefs={},this._frames={},this._footerLength=0,this._hasTriggeredInitialScrollToIndex=!1,this._hasInteracted=!1,this._hasMore=!1,this._hasWarned={},this._headerLength=0,this._hiPriInProgress=!1,this._highestMeasuredFrameIndex=0,this._indicesToKeys=new Map,this._lastFocusedCellKey=null,this._nestedChildLists=new ds,this._offsetFromParentVirtualizedList=0,this._prevParentOffset=0,this._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},this._scrollRef=null,this._sentStartForContentLength=0,this._sentEndForContentLength=0,this._totalCellLength=0,this._totalCellsMeasured=0,this._viewabilityTuples=[],this._captureScrollRef=l=>{this._scrollRef=l},this._defaultRenderScrollComponent=l=>{var a=l.onRefresh;if(this._isNestedWithSameOrientation())return T.createElement(te,l);if(a){var u;return H(typeof l.refreshing=="boolean","`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `"+JSON.stringify((u=l.refreshing)!==null&&u!==void 0?u:"undefined")+"`"),T.createElement(On,je({},l,{refreshControl:l.refreshControl==null?T.createElement(Vo,{refreshing:l.refreshing,onRefresh:a,progressViewOffset:l.progressViewOffset}):l.refreshControl}))}else return T.createElement(On,l)},this._onCellLayout=(l,a,u)=>{var c=l.nativeEvent.layout,h={offset:this._selectOffset(c),length:this._selectLength(c),index:u,inLayout:!0},d=this._frames[a];!d||h.offset!==d.offset||h.length!==d.length||u!==d.index?(this._totalCellLength+=h.length-(d?d.length:0),this._totalCellsMeasured+=d?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[a]=h,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,u),this._scheduleCellsToRenderUpdate()):this._frames[a].inLayout=!0,this._triggerRemeasureForChildListsInCell(a),this._computeBlankness(),this._updateViewableItems(this.props,this.state.cellsAroundViewport)},this._onCellUnmount=l=>{delete this._cellRefs[l];var a=this._frames[l];a&&(this._frames[l]=X(X({},a),{},{inLayout:!1}))},this._onLayout=l=>{this._isNestedWithSameOrientation()?this.measureLayoutRelativeToContainingList():this._scrollMetrics.visibleLength=this._selectLength(l.nativeEvent.layout),this.props.onLayout&&this.props.onLayout(l),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._onLayoutEmpty=l=>{this.props.onLayout&&this.props.onLayout(l)},this._onLayoutFooter=l=>{this._triggerRemeasureForChildListsInCell(this._getFooterCellKey()),this._footerLength=this._selectLength(l.nativeEvent.layout)},this._onLayoutHeader=l=>{this._headerLength=this._selectLength(l.nativeEvent.layout)},this._onContentSizeChange=(l,a)=>{l>0&&a>0&&this.props.initialScrollIndex!=null&&this.props.initialScrollIndex>0&&!this._hasTriggeredInitialScrollToIndex&&(this.props.contentOffset==null&&(this.props.initialScrollIndex<this.props.getItemCount(this.props.data)?this.scrollToIndex({animated:!1,index:xs(this.props.initialScrollIndex)}):this.scrollToEnd({animated:!1})),this._hasTriggeredInitialScrollToIndex=!0),this.props.onContentSizeChange&&this.props.onContentSizeChange(l,a),this._scrollMetrics.contentLength=this._selectLength({height:a,width:l}),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._convertParentScrollMetrics=l=>{var a=l.offset-this._offsetFromParentVirtualizedList,u=l.visibleLength,c=a-this._scrollMetrics.offset,h=this._scrollMetrics.contentLength;return{visibleLength:u,contentLength:h,offset:a,dOffset:c}},this._onScroll=l=>{this._nestedChildLists.forEach(b=>{b._onScroll(l)}),this.props.onScroll&&this.props.onScroll(l);var a=l.timeStamp,u=this._selectLength(l.nativeEvent.layoutMeasurement),c=this._selectLength(l.nativeEvent.contentSize),h=this._selectOffset(l.nativeEvent.contentOffset),d=h-this._scrollMetrics.offset;if(this._isNestedWithSameOrientation()){if(this._scrollMetrics.contentLength===0)return;var f=this._convertParentScrollMetrics({visibleLength:u,offset:h});u=f.visibleLength,c=f.contentLength,h=f.offset,d=f.dOffset}var m=this._scrollMetrics.timestamp?Math.max(1,a-this._scrollMetrics.timestamp):1,_=d/m;m>500&&this._scrollMetrics.dt>500&&c>5*u&&!this._hasWarned.perf&&(hs("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:m,prevDt:this._scrollMetrics.dt,contentLength:c}),this._hasWarned.perf=!0);var w=l.nativeEvent.zoomScale<0?1:l.nativeEvent.zoomScale;this._scrollMetrics={contentLength:c,dt:m,dOffset:d,offset:h,timestamp:a,velocity:_,visibleLength:u,zoomScale:w},this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.props&&(this._maybeCallOnEdgeReached(),_!==0&&this._fillRateHelper.activate(),this._computeBlankness(),this._scheduleCellsToRenderUpdate())},this._onScrollBeginDrag=l=>{this._nestedChildLists.forEach(a=>{a._onScrollBeginDrag(l)}),this._viewabilityTuples.forEach(a=>{a.viewabilityHelper.recordInteraction()}),this._hasInteracted=!0,this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(l)},this._onScrollEndDrag=l=>{this._nestedChildLists.forEach(u=>{u._onScrollEndDrag(l)});var a=l.nativeEvent.velocity;a&&(this._scrollMetrics.velocity=this._selectOffset(a)),this._computeBlankness(),this.props.onScrollEndDrag&&this.props.onScrollEndDrag(l)},this._onMomentumScrollBegin=l=>{this._nestedChildLists.forEach(a=>{a._onMomentumScrollBegin(l)}),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(l)},this._onMomentumScrollEnd=l=>{this._nestedChildLists.forEach(a=>{a._onMomentumScrollEnd(l)}),this._scrollMetrics.velocity=0,this._computeBlankness(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(l)},this._updateCellsToRender=()=>{this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.setState((l,a)=>{var u=this._adjustCellsAroundViewport(a,l.cellsAroundViewport),c=Ce._createRenderMask(a,u,this._getNonViewportRenderRegions(a));return u.first===l.cellsAroundViewport.first&&u.last===l.cellsAroundViewport.last&&c.equals(l.renderMask)?null:{cellsAroundViewport:u,renderMask:c}})},this._createViewToken=(l,a,u)=>{var c=u.data,h=u.getItem,d=h(c,l);return{index:l,item:d,key:this._keyExtractor(d,l,u),isViewable:a}},this._getOffsetApprox=(l,a)=>{if(Number.isInteger(l))return this.__getFrameMetricsApprox(l,a).offset;var u=this.__getFrameMetricsApprox(Math.floor(l),a),c=l-Math.floor(l);return u.offset+c*u.length},this.__getFrameMetricsApprox=(l,a)=>{var u=this._getFrameMetrics(l,a);if(u&&u.index===l)return u;var c=a.data,h=a.getItemCount,d=a.getItemLayout;return H(l>=0&&l<h(c),"Tried to get frame for out of range index "+l),H(!d,"Should not have to estimate frames when a measurement metrics function is provided"),{length:this._averageCellLength,offset:this._averageCellLength*l}},this._getFrameMetrics=(l,a)=>{var u=a.data,c=a.getItem,h=a.getItemCount,d=a.getItemLayout;H(l>=0&&l<h(u),"Tried to get frame for out of range index "+l);var f=c(u,l),m=this._frames[this._keyExtractor(f,l,a)];return(!m||m.index!==l)&&d?d(u,l):m},this._getNonViewportRenderRegions=l=>{if(!(this._lastFocusedCellKey&&this._cellRefs[this._lastFocusedCellKey]))return[];var a=this._cellRefs[this._lastFocusedCellKey],u=a.props.index,c=l.getItemCount(l.data);if(u>=c||this._keyExtractor(l.getItem(l.data,u),u,l)!==this._lastFocusedCellKey)return[];for(var h=u,d=0,f=h-1;f>=0&&d<this._scrollMetrics.visibleLength;f--)h--,d+=this.__getFrameMetricsApprox(f,l).length;for(var m=u,_=0,w=m+1;w<c&&_<this._scrollMetrics.visibleLength;w++)m++,_+=this.__getFrameMetricsApprox(w,l).length;return[{first:h,last:m}]},this._checkProps(e),this._fillRateHelper=new ps(this._getFrameMetrics),this._updateCellsToRenderBatcher=new cs(this._updateCellsToRender,(n=this.props.updateCellsBatchingPeriod)!==null&&n!==void 0?n:50),this.props.viewabilityConfigCallbackPairs)this._viewabilityTuples=this.props.viewabilityConfigCallbackPairs.map(l=>({viewabilityHelper:new Er(l.viewabilityConfig),onViewableItemsChanged:l.onViewableItemsChanged}));else{var r=this.props,i=r.onViewableItemsChanged,o=r.viewabilityConfig;i&&this._viewabilityTuples.push({viewabilityHelper:new Er(o),onViewableItemsChanged:i})}var s=Ce._initialRenderRegion(e);this.state={cellsAroundViewport:s,renderMask:Ce._createRenderMask(e,s)},this.invertedWheelEventHandler=l=>{var a=this.props.horizontal?l.target.scrollLeft:l.target.scrollTop,u=this.props.horizontal?l.target.scrollWidth:l.target.scrollHeight,c=this.props.horizontal?l.target.clientWidth:l.target.clientHeight,h=u>c,d=this.props.horizontal?l.deltaX||l.wheelDeltaX:l.deltaY||l.wheelDeltaY,f=d;h&&(f=d<0?Math.min(d+a,0):Math.max(d-(u-c-a),0));var m=d-f;if(this.props.inverted&&this._scrollRef&&this._scrollRef.getScrollableNode){var _=this._scrollRef.getScrollableNode();if(this.props.horizontal){l.target.scrollLeft+=m;var w=_.scrollLeft-f;_.scrollLeft=this.props.getItemLayout?w:Math.min(w,this._totalCellLength)}else{l.target.scrollTop+=m;var b=_.scrollTop-f;_.scrollTop=this.props.getItemLayout?b:Math.min(b,this._totalCellLength)}l.preventDefault()}}}_checkProps(e){var n=e.onScroll,r=e.windowSize,i=e.getItemCount,o=e.data,s=e.initialScrollIndex;H(!n||!n.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),H(Pr(r)>0,"VirtualizedList: The windowSize prop must be present and set to a value greater than 0."),H(i,'VirtualizedList: The "getItemCount" prop must be provided');var l=i(o);s!=null&&!this._hasTriggeredInitialScrollToIndex&&(s<0||l>0&&s>=l)&&!this._hasWarned.initialScrollIndex&&(console.warn('initialScrollIndex "'+s+'" is not valid (list has '+l+" items)"),this._hasWarned.initialScrollIndex=!0)}static _createRenderMask(e,n,r){var i=e.getItemCount(e.data);H(n.first>=0&&n.last>=n.first-1&&n.last<i,'Invalid cells around viewport "['+n.first+", "+n.last+']" was passed to VirtualizedList._createRenderMask');var o=new fs(i);if(i>0){for(var s=[n,...r??[]],l=0,a=s;l<a.length;l++){var u=a[l];o.addCells(u)}if(e.initialScrollIndex==null||e.initialScrollIndex<=0){var c=Ce._initialRenderRegion(e);o.addCells(c)}var h=new Set(e.stickyHeaderIndices);Ce._ensureClosestStickyHeader(e,h,o,n.first)}return o}static _initialRenderRegion(e){var n,r=e.getItemCount(e.data),i=Math.max(0,Math.min(r-1,Math.floor((n=e.initialScrollIndex)!==null&&n!==void 0?n:0))),o=Math.min(r,i+Es(e.initialNumToRender))-1;return{first:i,last:o}}static _ensureClosestStickyHeader(e,n,r,i){for(var o=e.ListHeaderComponent?1:0,s=i-1;s>=0;s--)if(n.has(s+o)){r.addCells({first:s,last:s});break}}_adjustCellsAroundViewport(e,n){var r=e.data,i=e.getItemCount,o=Tr(e.onEndReachedThreshold),s=this._scrollMetrics,l=s.contentLength,a=s.offset,u=s.visibleLength,c=l-u-a;if(u<=0||l<=0)return n.last>=i(r)?Ce._constrainToItemCount(n,e):n;var h;if(e.disableVirtualization){var d=c<o*u?bn(e.maxToRenderPerBatch):0;h={first:0,last:Math.min(n.last+d,i(r)-1)}}else{if(e.initialScrollIndex&&!this._scrollMetrics.offset&&Math.abs(c)>=Number.EPSILON)return n.last>=i(r)?Ce._constrainToItemCount(n,e):n;h=Cs(e,bn(e.maxToRenderPerBatch),Pr(e.windowSize),n,this.__getFrameMetricsApprox,this._scrollMetrics),H(h.last<i(r),"computeWindowedRenderLimits() should return range in-bounds")}if(this._nestedChildLists.size()>0){var f=this._findFirstChildWithMore(h.first,h.last);h.last=f??h.last}return h}_findFirstChildWithMore(e,n){for(var r=e;r<=n;r++){var i=this._indicesToKeys.get(r);if(i!=null&&this._nestedChildLists.anyInCell(i,o=>o.hasMore()))return r}return null}componentDidMount(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({ref:this,cellKey:this.context.cellKey}),this.setupWebWheelHandler()}componentWillUnmount(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({ref:this}),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.dispose()}),this._fillRateHelper.deactivateAndFlush(),this.teardownWebWheelHandler()}setupWebWheelHandler(){if(this._scrollRef&&this._scrollRef.getScrollableNode)this._scrollRef.getScrollableNode().addEventListener("wheel",this.invertedWheelEventHandler);else{setTimeout(()=>this.setupWebWheelHandler(),50);return}}teardownWebWheelHandler(){this._scrollRef&&this._scrollRef.getScrollableNode&&this._scrollRef.getScrollableNode().removeEventListener("wheel",this.invertedWheelEventHandler)}static getDerivedStateFromProps(e,n){var r=e.getItemCount(e.data);if(r===n.renderMask.numCells())return n;var i=Ce._constrainToItemCount(n.cellsAroundViewport,e);return{cellsAroundViewport:i,renderMask:Ce._createRenderMask(e,i)}}_pushCells(e,n,r,i,o,s){var l=this,a=this.props,u=a.CellRendererComponent,c=a.ItemSeparatorComponent,h=a.ListHeaderComponent,d=a.ListItemComponent,f=a.data,m=a.debug,_=a.getItem,w=a.getItemCount,b=a.getItemLayout,x=a.horizontal,C=a.renderItem,E=h?1:0,R=w(f)-1,y;o=Math.min(R,o);for(var L=function(){var V=_(f,D),P=l._keyExtractor(V,D,l.props);l._indicesToKeys.set(D,P),r.has(D+E)&&n.push(e.length);var M=b==null||m||l._fillRateHelper.enabled();e.push(T.createElement(vs,je({CellRendererComponent:u,ItemSeparatorComponent:D<R?c:void 0,ListItemComponent:d,cellKey:P,horizontal:x,index:D,inversionStyle:s,item:V,key:P,prevCellKey:y,onUpdateSeparators:l._onUpdateSeparators,onCellFocusCapture:U=>l._onCellFocusCapture(P),onUnmount:l._onCellUnmount,ref:U=>{l._cellRefs[P]=U},renderItem:C},M&&{onCellLayout:l._onCellLayout}))),y=P},D=i;D<=o;D++)L()}static _constrainToItemCount(e,n){var r=n.getItemCount(n.data),i=Math.min(r-1,e.last),o=bn(n.maxToRenderPerBatch);return{first:Cr(0,r-1-o,e.first),last:i}}_isNestedWithSameOrientation(){var e=this.context;return!!(e&&!!e.horizontal===et(this.props.horizontal))}_keyExtractor(e,n,r){if(r.keyExtractor!=null)return r.keyExtractor(e,n);var i=Nn(e,n);return i===String(n)&&(yn=!0,e.type&&e.type.displayName&&(_n=e.type.displayName)),i}render(){this._checkProps(this.props);var e=this.props,n=e.ListEmptyComponent,r=e.ListFooterComponent,i=e.ListHeaderComponent,o=this.props,s=o.data,l=o.horizontal,a=this.props.inverted?et(this.props.horizontal)?Re.horizontallyInverted:Re.verticallyInverted:null,u=[],c=new Set(this.props.stickyHeaderIndices),h=[];if(i){c.has(0)&&h.push(0);var d=T.isValidElement(i)?i:T.createElement(i,null);u.push(T.createElement(qt,{cellKey:this._getCellKey()+"-header",key:"$header"},T.createElement(te,{onLayout:this._onLayoutHeader,style:[a,this.props.ListHeaderComponentStyle]},d)))}var f=this.props.getItemCount(s);if(f===0&&n){var m=T.isValidElement(n)?n:T.createElement(n,null);u.push(T.createElement(qt,{cellKey:this._getCellKey()+"-empty",key:"$empty"},T.cloneElement(m,{onLayout:z=>{this._onLayoutEmpty(z),m.props.onLayout&&m.props.onLayout(z)},style:[a,m.props.style]})))}if(f>0){yn=!1,_n="";for(var _=this._getSpacerKey(!l),w=this.state.renderMask.enumerateRegions(),b=Rs(w,z=>z.isSpacer),x=rt(w),C;!(C=x()).done;){var E=C.value;if(E.isSpacer){if(this.props.disableVirtualization)continue;var R=E===b,y=R&&!this.props.getItemLayout,L=y?Cr(E.first-1,E.last,this._highestMeasuredFrameIndex):E.last,D=this.__getFrameMetricsApprox(E.first,this.props),$=this.__getFrameMetricsApprox(L,this.props),V=$.offset+$.length-D.offset;u.push(T.createElement(te,{key:"$spacer-"+E.first,style:{[_]:V}}))}else this._pushCells(u,h,c,E.first,E.last,a)}!this._hasWarned.keys&&yn&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",_n),this._hasWarned.keys=!0)}if(r){var P=T.isValidElement(r)?r:T.createElement(r,null);u.push(T.createElement(qt,{cellKey:this._getFooterCellKey(),key:"$footer"},T.createElement(te,{onLayout:this._onLayoutFooter,style:[a,this.props.ListFooterComponentStyle]},P)))}var M=X(X({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:Ts(this.props.scrollEventThrottle),invertStickyHeaders:this.props.invertStickyHeaders!==void 0?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:h,style:a?[a,this.props.style]:this.props.style});this._hasMore=this.state.cellsAroundViewport.last<f-1;var U=T.createElement(bs,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:et(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}},T.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(M),{ref:this._captureScrollRef},u)),K=U;return this.props.debug?T.createElement(te,{style:Re.debug},K,this._renderDebugOverlay()):K}componentDidUpdate(e){var n=this.props,r=n.data,i=n.extraData;(r!==e.data||i!==e.extraData)&&this._viewabilityTuples.forEach(s=>{s.viewabilityHelper.resetViewableIndices()});var o=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),o&&(this._hiPriInProgress=!1)}_computeBlankness(){this._fillRateHelper.computeBlankness(this.props,this.state.cellsAroundViewport,this._scrollMetrics)}_onCellFocusCapture(e){this._lastFocusedCellKey=e,this._updateCellsToRender()}_triggerRemeasureForChildListsInCell(e){this._nestedChildLists.forEachInCell(e,n=>{n.measureLayoutRelativeToContainingList()})}measureLayoutRelativeToContainingList(){try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),(e,n,r,i)=>{this._offsetFromParentVirtualizedList=this._selectOffset({x:e,y:n}),this._scrollMetrics.contentLength=this._selectLength({width:r,height:i});var o=this._convertParentScrollMetrics(this.context.getScrollMetrics()),s=this._scrollMetrics.visibleLength!==o.visibleLength||this._scrollMetrics.offset!==o.offset;s&&(this._scrollMetrics.visibleLength=o.visibleLength,this._scrollMetrics.offset=o.offset,this._nestedChildLists.forEach(l=>{l.measureLayoutRelativeToContainingList()}))},e=>{console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")})}catch(e){console.warn("measureLayoutRelativeToContainingList threw an error",e.stack)}}_getFooterCellKey(){return this._getCellKey()+"-footer"}_renderDebugOverlay(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),n=[],r=this.props.getItemCount(this.props.data),i=0;i<r;i++){var o=this.__getFrameMetricsApprox(i,this.props);o.inLayout&&n.push(o)}var s=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first,this.props).offset,l=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last,this.props),a=l.offset+l.length-s,u=this._scrollMetrics.offset,c=this._scrollMetrics.visibleLength;return T.createElement(te,{style:[Re.debugOverlayBase,Re.debugOverlay]},n.map((h,d)=>T.createElement(te,{key:"f"+d,style:[Re.debugOverlayBase,Re.debugOverlayFrame,{top:h.offset*e,height:h.length*e}]})),T.createElement(te,{style:[Re.debugOverlayBase,Re.debugOverlayFrameLast,{top:s*e,height:a*e}]}),T.createElement(te,{style:[Re.debugOverlayBase,Re.debugOverlayFrameVis,{top:u*e,height:c*e}]}))}_selectLength(e){return et(this.props.horizontal)?e.width:e.height}_selectOffset(e){return et(this.props.horizontal)?e.x:e.y}_maybeCallOnEdgeReached(){var e=this.props,n=e.data,r=e.getItemCount,i=e.onStartReached,o=e.onStartReachedThreshold,s=e.onEndReached,l=e.onEndReachedThreshold,a=e.initialScrollIndex,u=this._scrollMetrics,c=u.contentLength,h=u.visibleLength,d=u.offset,f=d,m=c-h-d;f<Ir&&(f=0),m<Ir&&(m=0);var _=2,w=o!=null?o*h:_,b=l!=null?l*h:_,x=f<=w,C=m<=b;s&&this.state.cellsAroundViewport.last===r(n)-1&&C&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,s({distanceFromEnd:m})):i!=null&&this.state.cellsAroundViewport.first===0&&x&&this._scrollMetrics.contentLength!==this._sentStartForContentLength?(!a||this._scrollMetrics.timestamp!==0)&&(this._sentStartForContentLength=this._scrollMetrics.contentLength,i({distanceFromStart:f})):(this._sentStartForContentLength=x?this._sentStartForContentLength:0,this._sentEndForContentLength=C?this._sentEndForContentLength:0)}_scheduleCellsToRenderUpdate(){var e=this.state.cellsAroundViewport,n=e.first,r=e.last,i=this._scrollMetrics,o=i.offset,s=i.visibleLength,l=i.velocity,a=this.props.getItemCount(this.props.data),u=!1,c=Is(this.props.onStartReachedThreshold),h=Tr(this.props.onEndReachedThreshold);if(n>0){var d=o-this.__getFrameMetricsApprox(n,this.props).offset;u=d<0||l<-2&&d<Rr(c,s)}if(!u&&r>=0&&r<a-1){var f=this.__getFrameMetricsApprox(r,this.props).offset-(o+s);u=f<0||l>2&&f<Rr(h,s)}if(u&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress){this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),this._updateCellsToRender();return}else this._updateCellsToRenderBatcher.schedule()}_updateViewableItems(e,n){this._viewabilityTuples.forEach(r=>{r.viewabilityHelper.onUpdate(e,this._scrollMetrics.offset,this._scrollMetrics.visibleLength,this._getFrameMetrics,this._createViewToken,r.onViewableItemsChanged,n)})}}Ce.contextType=en;var Re=at.create({verticallyInverted:{transform:"scaleY(-1)"},horizontallyInverted:{transform:"scaleX(-1)"},debug:{flex:1},debugOverlayBase:{position:"absolute",top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:"blue",borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:"orange"},debugOverlayFrameLast:{left:0,borderColor:"green",borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:"red",borderWidth:2}}),Lr=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Ps(t,e){return!!(t===e||Lr(t)&&Lr(e))}function Ls(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Ps(t[n],e[n]))return!1;return!0}function Ms(t,e){e===void 0&&(e=Ls);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var s=t.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}var As=["numColumns","columnWrapperStyle","removeClippedSubviews","strictMode"];function Ds(t){return t??Bo.OS==="android"}function tt(t){return t??1}function Os(t){return typeof Object(t).length=="number"}class Fs extends T.PureComponent{scrollToEnd(e){this._listRef&&this._listRef.scrollToEnd(e)}scrollToIndex(e){this._listRef&&this._listRef.scrollToIndex(e)}scrollToItem(e){this._listRef&&this._listRef.scrollToItem(e)}scrollToOffset(e){this._listRef&&this._listRef.scrollToOffset(e)}recordInteraction(){this._listRef&&this._listRef.recordInteraction()}flashScrollIndicators(){this._listRef&&this._listRef.flashScrollIndicators()}getScrollResponder(){if(this._listRef)return this._listRef.getScrollResponder()}getNativeScrollRef(){if(this._listRef)return this._listRef.getScrollRef()}getScrollableNode(){if(this._listRef)return this._listRef.getScrollableNode()}constructor(e){super(e),this._virtualizedListPairs=[],this._captureRef=n=>{this._listRef=n},this._getItem=(n,r)=>{var i=tt(this.props.numColumns);if(i>1){for(var o=[],s=0;s<i;s++){var l=r*i+s;if(l<n.length){var a=n[l];o.push(a)}}return o}else return n[r]},this._getItemCount=n=>{if(n!=null&&Os(n)){var r=tt(this.props.numColumns);return r>1?Math.ceil(n.length/r):n.length}else return 0},this._keyExtractor=(n,r)=>{var i,o=tt(this.props.numColumns),s=(i=this.props.keyExtractor)!==null&&i!==void 0?i:Nn;return o>1?(H(Array.isArray(n),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",o),n.map((l,a)=>s(l,r*o+a)).join(":")):s(n,r)},this._renderer=(n,r,i,o,s)=>{var l=tt(o),a=c=>n?T.createElement(n,c):r?r(c):null,u=c=>{if(l>1){var h=c.item,d=c.index;return H(Array.isArray(h),"Expected array of items with numColumns > 1"),T.createElement(te,{style:[zs.row,i]},h.map((f,m)=>{var _=a({item:f,index:d*l+m,separators:c.separators});return _!=null?T.createElement(T.Fragment,{key:m},_):null}))}else return a(c)};return n?{ListItemComponent:u}:{renderItem:u}},this._memoizedRenderer=Ms(this._renderer),this._checkProps(this.props),this.props.viewabilityConfigCallbackPairs?this._virtualizedListPairs=this.props.viewabilityConfigCallbackPairs.map(n=>({viewabilityConfig:n.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(n.onViewableItemsChanged)})):this.props.onViewableItemsChanged&&this._virtualizedListPairs.push({viewabilityConfig:this.props.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(this.props.onViewableItemsChanged)})}componentDidUpdate(e){H(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),H(e.onViewableItemsChanged===this.props.onViewableItemsChanged,"Changing onViewableItemsChanged on the fly is not supported"),H(!Ho(e.viewabilityConfig,this.props.viewabilityConfig),"Changing viewabilityConfig on the fly is not supported"),H(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,"Changing viewabilityConfigCallbackPairs on the fly is not supported"),this._checkProps(this.props)}_checkProps(e){var n=e.getItem,r=e.getItemCount,i=e.horizontal,o=e.columnWrapperStyle,s=e.onViewableItemsChanged,l=e.viewabilityConfigCallbackPairs,a=tt(this.props.numColumns);H(!n&&!r,"FlatList does not support custom data formats."),a>1?H(!i,"numColumns does not support horizontal."):H(!o,"columnWrapperStyle not supported for single column lists"),H(!(s&&l),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}_pushMultiColumnViewable(e,n){var r,i=tt(this.props.numColumns),o=(r=this.props.keyExtractor)!==null&&r!==void 0?r:Nn;n.item.forEach((s,l)=>{H(n.index!=null,"Missing index!");var a=n.index*i+l;e.push(X(X({},n),{},{item:s,key:o(s,a),index:a}))})}_createOnViewableItemsChanged(e){return n=>{var r=tt(this.props.numColumns);if(e)if(r>1){var i=[],o=[];n.viewableItems.forEach(s=>this._pushMultiColumnViewable(o,s)),n.changed.forEach(s=>this._pushMultiColumnViewable(i,s)),e({viewableItems:o,changed:i})}else e(n)}}render(){var e=this.props,n=e.numColumns,r=e.columnWrapperStyle,i=e.removeClippedSubviews,o=e.strictMode,s=o===void 0?!1:o,l=ln(e,As),a=s?this._memoizedRenderer:this._renderer;return T.createElement(Ce,je({},l,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:Ds(i)},a(this.props.ListItemComponent,this.props.renderItem,r,n,this.props.extraData)))}}var zs=at.create({row:{flexDirection:"row"}}),Ns=(t,e)=>{var n=t.selectionEnd,r=t.selectionStart,i=e.start,o=e.end;return i!==r||o!==n},Mr=(t,e)=>{if(Ns(t,e)){var n=e.start,r=e.end;try{t.setSelectionRange(n,r||n)}catch{}}},Bs=Object.assign({},wo,Co,ko,xo,Eo,Io,To,Ro,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0}),Hs=t=>zo(t,Bs);function $s(t){return t.isComposing||t.keyCode===229}var vn=null,tn=T.forwardRef((t,e)=>{var n=t.autoCapitalize,r=n===void 0?"sentences":n,i=t.autoComplete,o=t.autoCompleteType,s=t.autoCorrect,l=s===void 0?!0:s,a=t.blurOnSubmit,u=t.caretHidden,c=t.clearTextOnFocus,h=t.dir,d=t.editable,f=t.enterKeyHint,m=t.inputMode,_=t.keyboardType,w=t.multiline,b=w===void 0?!1:w,x=t.numberOfLines,C=t.onBlur,E=t.onChange,R=t.onChangeText,y=t.onContentSizeChange,L=t.onFocus,D=t.onKeyPress,$=t.onLayout,V=t.onMoveShouldSetResponder,P=t.onMoveShouldSetResponderCapture,M=t.onResponderEnd,U=t.onResponderGrant,K=t.onResponderMove,z=t.onResponderReject,le=t.onResponderRelease,re=t.onResponderStart,ge=t.onResponderTerminate,Ee=t.onResponderTerminationRequest,p=t.onScrollShouldSetResponder,me=t.onScrollShouldSetResponderCapture,we=t.onSelectionChange,g=t.onSelectionChangeShouldSetResponder,ye=t.onSelectionChangeShouldSetResponderCapture,Oe=t.onStartShouldSetResponder,ie=t.onStartShouldSetResponderCapture,Ue=t.onSubmitEditing,Le=t.placeholderTextColor,Fe=t.readOnly,We=Fe===void 0?!1:Fe,ht=t.returnKeyType,Dt=t.rows,Ot=t.secureTextEntry,ft=Ot===void 0?!1:Ot,dt=t.selection,Ft=t.selectTextOnFocus,zt=t.showSoftInputOnFocus,Nt=t.spellCheck,ce,Ge;if(m!=null)Ge=m,m==="email"?ce="email":m==="tel"?ce="tel":m==="search"?ce="search":m==="url"?ce="url":ce="text";else if(_!=null)switch(_){case"email-address":ce="email";break;case"number-pad":case"numeric":Ge="numeric";break;case"decimal-pad":Ge="decimal";break;case"phone-pad":ce="tel";break;case"search":case"web-search":ce="search";break;case"url":ce="url";break;default:ce="text"}ft&&(ce="password");var Ke=T.useRef({height:null,width:null}),ze=T.useRef(null),vt=T.useRef(null),Bt=T.useRef(!1);T.useEffect(()=>{ze.current&&vt.current&&Mr(ze.current,vt.current),Bt.current=ft},[ft]);var St=T.useCallback(O=>{if(b&&y&&O!=null){var oe=O.scrollHeight,Be=O.scrollWidth;(oe!==Ke.current.height||Be!==Ke.current.width)&&(Ke.current.height=oe,Ke.current.width=Be,y({nativeEvent:{contentSize:{height:Ke.current.height,width:Ke.current.width}}}))}},[b,y]),v=T.useMemo(()=>O=>{O!=null&&(O.clear=function(){O!=null&&(O.value="")},O.isFocused=function(){return O!=null&&$e.currentlyFocusedField()===O},St(O))},[St]);function I(O){$e._currentlyFocusedNode=null,C&&(O.nativeEvent.text=O.target.value,C(O))}function F(O){var oe=O.target,Be=oe.value;O.nativeEvent.text=Be,St(oe),E&&E(O),R&&R(Be)}function j(O){var oe=O.target;L&&(O.nativeEvent.text=oe.value,L(O)),oe!=null&&($e._currentlyFocusedNode=oe,c&&(oe.value=""),Ft&&(vn!=null&&clearTimeout(vn),vn=setTimeout(()=>{oe!=null&&document.activeElement===oe&&oe.select()},0)))}function q(O){var oe=O.target;O.stopPropagation();var Be=!b,pn=a??Be,wt=O.nativeEvent,fr=$s(wt);D&&D(O),O.key==="Enter"&&!O.shiftKey&&!fr&&!O.isDefaultPrevented()&&((a||!b)&&Ue&&(O.preventDefault(),wt.text=O.target.value,Ue(O)),pn&&oe!=null&&setTimeout(()=>oe.blur(),0))}function _e(O){try{var oe=O.target,Be=oe.selectionStart,pn=oe.selectionEnd,wt={start:Be,end:pn};we&&(O.nativeEvent.selection=wt,O.nativeEvent.text=O.target.value,we(O)),Bt.current===ft&&(vt.current=wt)}catch{}}Po(()=>{var O=ze.current;O!=null&&dt!=null&&Mr(O,dt),document.activeElement===O&&($e._currentlyFocusedNode=O)},[ze,dt]);var Ne=b?"textarea":"input";Lo(ze,$),Mo(ze,{onMoveShouldSetResponder:V,onMoveShouldSetResponderCapture:P,onResponderEnd:M,onResponderGrant:U,onResponderMove:K,onResponderReject:z,onResponderRelease:le,onResponderStart:re,onResponderTerminate:ge,onResponderTerminationRequest:Ee,onScrollShouldSetResponder:p,onScrollShouldSetResponderCapture:me,onSelectionChangeShouldSetResponder:g,onSelectionChangeShouldSetResponderCapture:ye,onStartShouldSetResponder:Oe,onStartShouldSetResponderCapture:ie});var Ie=Ao(),Ze=Ie.direction,Y=Hs(t);Y.autoCapitalize=r,Y.autoComplete=i||o||"on",Y.autoCorrect=l?"on":"off",Y.dir=h!==void 0?h:"auto",Y.enterKeyHint=f||ht,Y.inputMode=Ge,Y.onBlur=I,Y.onChange=F,Y.onFocus=j,Y.onKeyDown=q,Y.onSelect=_e,Y.readOnly=We===!0||d===!1,Y.rows=b?Dt??x:1,Y.spellCheck=Nt??l,Y.style=[{"--placeholderTextColor":Le},Sn.textinput$raw,Sn.placeholder,t.style,u&&Sn.caretHidden],Y.type=b?void 0:ce,Y.virtualkeyboardpolicy=zt===!1?"manual":"auto";var he=Do(Y),qe=Ti(ze,he,v,e);Y.ref=qe;var Te=t.lang!=null?Oo(t.lang):null,_o=t.dir||Te,bo=_o||Ze,vo=Fo(Ne,Y,{writingDirection:bo});return vo});tn.displayName="TextInput";tn.State=$e;var Sn=at.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"},caretHidden:{caretColor:"transparent"}});function js(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Vs=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Us=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ws={};function Ar(t,e){return(Ws.jsx?Us:Vs).test(t)}const Ks=/[ \t\n\f\r]/g;function qs(t){return typeof t=="object"?t.type==="text"?Dr(t.value):!1:Dr(t)}function Dr(t){return t.replace(Ks,"")===""}class Mt{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}Mt.prototype.property={};Mt.prototype.normal={};Mt.prototype.space=null;function Li(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Mt(n,r,e)}function Bn(t){return t.toLowerCase()}class xe{constructor(e,n){this.property=e,this.attribute=n}}xe.prototype.space=null;xe.prototype.boolean=!1;xe.prototype.booleanish=!1;xe.prototype.overloadedBoolean=!1;xe.prototype.number=!1;xe.prototype.commaSeparated=!1;xe.prototype.spaceSeparated=!1;xe.prototype.commaOrSpaceSeparated=!1;xe.prototype.mustUseProperty=!1;xe.prototype.defined=!1;let Xs=0;const B=ct(),ee=ct(),Mi=ct(),k=ct(),Q=ct(),gt=ct(),be=ct();function ct(){return 2**++Xs}const Hn=Object.freeze(Object.defineProperty({__proto__:null,boolean:B,booleanish:ee,commaOrSpaceSeparated:be,commaSeparated:gt,number:k,overloadedBoolean:Mi,spaceSeparated:Q},Symbol.toStringTag,{value:"Module"})),wn=Object.keys(Hn);class Yn extends xe{constructor(e,n,r,i){let o=-1;if(super(e,n),Or(this,"space",i),typeof r=="number")for(;++o<wn.length;){const s=wn[o];Or(this,wn[o],(r&Hn[s])===Hn[s])}}}Yn.prototype.defined=!0;function Or(t,e,n){n&&(t[e]=n)}const Ys={}.hasOwnProperty;function _t(t){const e={},n={};let r;for(r in t.properties)if(Ys.call(t.properties,r)){const i=t.properties[r],o=new Yn(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[Bn(r)]=r,n[Bn(o.attribute)]=r}return new Mt(e,n,t.space)}const Ai=_t({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Di=_t({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Oi(t,e){return e in t?t[e]:e}function Fi(t,e){return Oi(t,e.toLowerCase())}const zi=_t({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Fi,properties:{xmlns:null,xmlnsXLink:null}}),Ni=_t({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ee,ariaAutoComplete:null,ariaBusy:ee,ariaChecked:ee,ariaColCount:k,ariaColIndex:k,ariaColSpan:k,ariaControls:Q,ariaCurrent:null,ariaDescribedBy:Q,ariaDetails:null,ariaDisabled:ee,ariaDropEffect:Q,ariaErrorMessage:null,ariaExpanded:ee,ariaFlowTo:Q,ariaGrabbed:ee,ariaHasPopup:null,ariaHidden:ee,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Q,ariaLevel:k,ariaLive:null,ariaModal:ee,ariaMultiLine:ee,ariaMultiSelectable:ee,ariaOrientation:null,ariaOwns:Q,ariaPlaceholder:null,ariaPosInSet:k,ariaPressed:ee,ariaReadOnly:ee,ariaRelevant:null,ariaRequired:ee,ariaRoleDescription:Q,ariaRowCount:k,ariaRowIndex:k,ariaRowSpan:k,ariaSelected:ee,ariaSetSize:k,ariaSort:null,ariaValueMax:k,ariaValueMin:k,ariaValueNow:k,ariaValueText:null,role:null}}),Qs=_t({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Fi,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:gt,acceptCharset:Q,accessKey:Q,action:null,allow:null,allowFullScreen:B,allowPaymentRequest:B,allowUserMedia:B,alt:null,as:null,async:B,autoCapitalize:null,autoComplete:Q,autoFocus:B,autoPlay:B,blocking:Q,capture:null,charSet:null,checked:B,cite:null,className:Q,cols:k,colSpan:null,content:null,contentEditable:ee,controls:B,controlsList:Q,coords:k|gt,crossOrigin:null,data:null,dateTime:null,decoding:null,default:B,defer:B,dir:null,dirName:null,disabled:B,download:Mi,draggable:ee,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:B,formTarget:null,headers:Q,height:k,hidden:B,high:k,href:null,hrefLang:null,htmlFor:Q,httpEquiv:Q,id:null,imageSizes:null,imageSrcSet:null,inert:B,inputMode:null,integrity:null,is:null,isMap:B,itemId:null,itemProp:Q,itemRef:Q,itemScope:B,itemType:Q,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:B,low:k,manifest:null,max:null,maxLength:k,media:null,method:null,min:null,minLength:k,multiple:B,muted:B,name:null,nonce:null,noModule:B,noValidate:B,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:B,optimum:k,pattern:null,ping:Q,placeholder:null,playsInline:B,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:B,referrerPolicy:null,rel:Q,required:B,reversed:B,rows:k,rowSpan:k,sandbox:Q,scope:null,scoped:B,seamless:B,selected:B,shadowRootClonable:B,shadowRootDelegatesFocus:B,shadowRootMode:null,shape:null,size:k,sizes:null,slot:null,span:k,spellCheck:ee,src:null,srcDoc:null,srcLang:null,srcSet:null,start:k,step:null,style:null,tabIndex:k,target:null,title:null,translate:null,type:null,typeMustMatch:B,useMap:null,value:ee,width:k,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Q,axis:null,background:null,bgColor:null,border:k,borderColor:null,bottomMargin:k,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:B,declare:B,event:null,face:null,frame:null,frameBorder:null,hSpace:k,leftMargin:k,link:null,longDesc:null,lowSrc:null,marginHeight:k,marginWidth:k,noResize:B,noHref:B,noShade:B,noWrap:B,object:null,profile:null,prompt:null,rev:null,rightMargin:k,rules:null,scheme:null,scrolling:ee,standby:null,summary:null,text:null,topMargin:k,valueType:null,version:null,vAlign:null,vLink:null,vSpace:k,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:B,disableRemotePlayback:B,prefix:null,property:null,results:k,security:null,unselectable:null}}),Js=_t({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Oi,properties:{about:be,accentHeight:k,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:k,amplitude:k,arabicForm:null,ascent:k,attributeName:null,attributeType:null,azimuth:k,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:k,by:null,calcMode:null,capHeight:k,className:Q,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:k,diffuseConstant:k,direction:null,display:null,dur:null,divisor:k,dominantBaseline:null,download:B,dx:null,dy:null,edgeMode:null,editable:null,elevation:k,enableBackground:null,end:null,event:null,exponent:k,externalResourcesRequired:null,fill:null,fillOpacity:k,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:gt,g2:gt,glyphName:gt,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:k,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:k,horizOriginX:k,horizOriginY:k,id:null,ideographic:k,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:k,k,k1:k,k2:k,k3:k,k4:k,kernelMatrix:be,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:k,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:k,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:k,overlineThickness:k,paintOrder:null,panose1:null,path:null,pathLength:k,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Q,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:k,pointsAtY:k,pointsAtZ:k,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:be,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:be,rev:be,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:be,requiredFeatures:be,requiredFonts:be,requiredFormats:be,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:k,specularExponent:k,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:k,strikethroughThickness:k,string:null,stroke:null,strokeDashArray:be,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:k,strokeOpacity:k,strokeWidth:null,style:null,surfaceScale:k,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:be,tabIndex:k,tableValues:null,target:null,targetX:k,targetY:k,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:be,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:k,underlineThickness:k,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:k,values:null,vAlphabetic:k,vMathematical:k,vectorEffect:null,vHanging:k,vIdeographic:k,version:null,vertAdvY:k,vertOriginX:k,vertOriginY:k,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:k,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Gs=/^data[-\w.:]+$/i,Fr=/-[a-z]/g,Zs=/[A-Z]/g;function el(t,e){const n=Bn(e);let r=e,i=xe;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Gs.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(Fr,nl);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!Fr.test(o)){let s=o.replace(Zs,tl);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=Yn}return new i(r,e)}function tl(t){return"-"+t.toLowerCase()}function nl(t){return t.charAt(1).toUpperCase()}const rl={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},il=Li([Di,Ai,zi,Ni,Qs],"html"),Qn=Li([Di,Ai,zi,Ni,Js],"svg");function ol(t){return t.join(" ").trim()}var Bi={},zr=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,sl=/\n/g,ll=/^\s*/,al=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,ul=/^:\s*/,cl=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,hl=/^[;\s]*/,fl=/^\s+|\s+$/g,dl=`
`,Nr="/",Br="*",nt="",pl="comment",gl="declaration",ml=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(m){var _=m.match(sl);_&&(n+=_.length);var w=m.lastIndexOf(dl);r=~w?m.length-w:r+m.length}function o(){var m={line:n,column:r};return function(_){return _.position=new s(m),u(),_}}function s(m){this.start=m,this.end={line:n,column:r},this.source=e.source}s.prototype.content=t;function l(m){var _=new Error(e.source+":"+n+":"+r+": "+m);if(_.reason=m,_.filename=e.source,_.line=n,_.column=r,_.source=t,!e.silent)throw _}function a(m){var _=m.exec(t);if(_){var w=_[0];return i(w),t=t.slice(w.length),_}}function u(){a(ll)}function c(m){var _;for(m=m||[];_=h();)_!==!1&&m.push(_);return m}function h(){var m=o();if(!(Nr!=t.charAt(0)||Br!=t.charAt(1))){for(var _=2;nt!=t.charAt(_)&&(Br!=t.charAt(_)||Nr!=t.charAt(_+1));)++_;if(_+=2,nt===t.charAt(_-1))return l("End of comment missing");var w=t.slice(2,_-2);return r+=2,i(w),t=t.slice(_),r+=2,m({type:pl,comment:w})}}function d(){var m=o(),_=a(al);if(_){if(h(),!a(ul))return l("property missing ':'");var w=a(cl),b=m({type:gl,property:Hr(_[0].replace(zr,nt)),value:w?Hr(w[0].replace(zr,nt)):nt});return a(hl),b}}function f(){var m=[];c(m);for(var _;_=d();)_!==!1&&(m.push(_),c(m));return m}return u(),f()};function Hr(t){return t?t.replace(fl,nt):nt}var yl=dr&&dr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bi,"__esModule",{value:!0});var $r=Bi.default=bl,_l=yl(ml);function bl(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,_l.default)(t),i=typeof e=="function";return r.forEach(function(o){if(o.type==="declaration"){var s=o.property,l=o.value;i?e(s,l,o):l&&(n=n||{},n[s]=l)}}),n}const vl=$r.default||$r,Hi=$i("end"),Jn=$i("start");function $i(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Sl(t){const e=Jn(t),n=Hi(t);if(e&&n)return{start:e,end:n}}function Et(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?jr(t.position):"start"in t||"end"in t?jr(t):"line"in t||"column"in t?$n(t):""}function $n(t){return Vr(t&&t.line)+":"+Vr(t&&t.column)}function jr(t){return $n(t&&t.start)+"-"+$n(t&&t.end)}function Vr(t){return t&&typeof t=="number"?t:1}class ue extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(s=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?o.ruleId=r:(o.source=r.slice(0,a),o.ruleId=r.slice(a+1))}if(!o.place&&o.ancestors&&o.ancestors){const a=o.ancestors[o.ancestors.length-1];a&&(o.place=a.position)}const l=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=l?l.line:void 0,this.name=Et(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}ue.prototype.file="";ue.prototype.name="";ue.prototype.reason="";ue.prototype.message="";ue.prototype.stack="";ue.prototype.column=void 0;ue.prototype.line=void 0;ue.prototype.ancestors=void 0;ue.prototype.cause=void 0;ue.prototype.fatal=void 0;ue.prototype.place=void 0;ue.prototype.ruleId=void 0;ue.prototype.source=void 0;const Gn={}.hasOwnProperty,wl=new Map,Cl=/[A-Z]/g,kl=/-([a-z])/g,xl=new Set(["table","tbody","thead","tfoot","tr"]),El=new Set(["td","th"]),ji="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Il(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Ol(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Dl(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Qn:il,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=Vi(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function Vi(t,e,n){if(e.type==="element")return Tl(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Rl(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Ll(t,e,n);if(e.type==="mdxjsEsm")return Pl(t,e);if(e.type==="root")return Ml(t,e,n);if(e.type==="text")return Al(t,e)}function Tl(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Qn,t.schema=i),t.ancestors.push(e);const o=Wi(t,e.tagName,!1),s=Fl(t,e);let l=er(t,e);return xl.has(e.tagName)&&(l=l.filter(function(a){return typeof a=="string"?!qs(a):!0})),Ui(t,s,o,e),Zn(s,l),t.ancestors.pop(),t.schema=r,t.create(e,o,s,n)}function Rl(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Tt(t,e.position)}function Pl(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Tt(t,e.position)}function Ll(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Qn,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:Wi(t,e.name,!0),s=zl(t,e),l=er(t,e);return Ui(t,s,o,e),Zn(s,l),t.ancestors.pop(),t.schema=r,t.create(e,o,s,n)}function Ml(t,e,n){const r={};return Zn(r,er(t,e)),t.create(e,t.Fragment,r,n)}function Al(t,e){return e.value}function Ui(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Zn(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Dl(t,e,n){return r;function r(i,o,s,l){const u=Array.isArray(s.children)?n:e;return l?u(o,s,l):u(o,s)}}function Ol(t,e){return n;function n(r,i,o,s){const l=Array.isArray(o.children),a=Jn(r);return e(i,o,s,l,{columnNumber:a?a.column-1:void 0,fileName:t,lineNumber:a?a.line:void 0},void 0)}}function Fl(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Gn.call(e.properties,i)){const o=Nl(t,i,e.properties[i]);if(o){const[s,l]=o;t.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&El.has(e.tagName)?r=l:n[s]=l}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function zl(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const l=s.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else Tt(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,o=t.evaluater.evaluateExpression(l.expression)}else Tt(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function er(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:wl;for(;++r<e.children.length;){const o=e.children[r];let s;if(t.passKeys){const a=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(a){const u=i.get(a)||0;s=a+"-"+u,i.set(a,u+1)}}const l=Vi(t,o,s);l!==void 0&&n.push(l)}return n}function Nl(t,e,n){const r=el(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?js(n):ol(n)),r.property==="style"){let i=typeof n=="object"?n:Bl(t,String(n));return t.stylePropertyNameCase==="css"&&(i=Hl(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?rl[r.property]||r.property:r.attribute,n]}}function Bl(t,e){const n={};try{vl(e,r)}catch(i){if(!t.ignoreInvalidStyle){const o=i,s=new ue("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=ji+"#cannot-parse-style-attribute",s}}return n;function r(i,o){let s=i;s.slice(0,2)!=="--"&&(s.slice(0,4)==="-ms-"&&(s="ms-"+s.slice(4)),s=s.replace(kl,jl)),n[s]=o}}function Wi(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,s;for(;++o<i.length;){const l=Ar(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:l,computed:!!(o&&l.type==="Literal"),optional:!1}:l}r=s}else r=Ar(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Gn.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Tt(t)}function Tt(t,e){const n=new ue("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=ji+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Hl(t){const e={};let n;for(n in t)Gn.call(t,n)&&(e[$l(n)]=t[n]);return e}function $l(t){let e=t.replace(Cl,Vl);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function jl(t,e){return e.toUpperCase()}function Vl(t){return"-"+t.toLowerCase()}const Cn={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Ul={};function Wl(t,e){const n=Ul,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Ki(t,r,i)}function Ki(t,e,n){if(Kl(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Ur(t.children,e,n)}return Array.isArray(t)?Ur(t,e,n):""}function Ur(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=Ki(t[i],e,n);return r.join("")}function Kl(t){return!!(t&&typeof t=="object")}const Wr=document.createElement("i");function tr(t){const e="&"+t+";";Wr.innerHTML=e;const n=Wr.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ve(t,e,n,r){const i=t.length;let o=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(e,0),t.splice(...s),o+=1e4,e+=1e4}function ke(t,e){return t.length>0?(Ve(t,t.length,0,e),t):e}const Kr={}.hasOwnProperty;function ql(t){const e={};let n=-1;for(;++n<t.length;)Xl(e,t[n]);return e}function Xl(t,e){let n;for(n in e){const i=(Kr.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let s;if(o)for(s in o){Kr.call(i,s)||(i[s]=[]);const l=o[s];Yl(i[s],Array.isArray(l)?l:l?[l]:[])}}}function Yl(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Ve(t,0,0,r)}function qi(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function mt(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const De=Je(/[A-Za-z]/),ve=Je(/[\dA-Za-z]/),Ql=Je(/[#-'*+\--9=?A-Z^-~]/);function jn(t){return t!==null&&(t<32||t===127)}const Vn=Je(/\d/),Jl=Je(/[\dA-Fa-f]/),Gl=Je(/[!-/:-@[-`{-~]/);function A(t){return t!==null&&t<-2}function pe(t){return t!==null&&(t<0||t===32)}function W(t){return t===-2||t===-1||t===32}const Zl=Je(new RegExp("\\p{P}|\\p{S}","u")),ea=Je(/\s/);function Je(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function bt(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let s="";if(o===37&&ve(t.charCodeAt(n+1))&&ve(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const l=t.charCodeAt(n+1);o<56320&&l>56319&&l<57344?(s=String.fromCharCode(o,l),i=1):s=""}else s=String.fromCharCode(o);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function J(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(a){return W(a)?(t.enter(n),l(a)):e(a)}function l(a){return W(a)&&o++<i?(t.consume(a),l):(t.exit(n),e(a))}}const ta={tokenize:na};function na(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),J(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),o(l)}function o(l){const a=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,s(l)}function s(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return A(l)?(t.consume(l),t.exit("chunkText"),o):(t.consume(l),s)}}const ra={tokenize:ia},qr={tokenize:oa};function ia(t){const e=this,n=[];let r=0,i,o,s;return l;function l(C){if(r<n.length){const E=n[r];return e.containerState=E[1],t.attempt(E[0].continuation,a,u)(C)}return u(C)}function a(C){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&x();const E=e.events.length;let R=E,y;for(;R--;)if(e.events[R][0]==="exit"&&e.events[R][1].type==="chunkFlow"){y=e.events[R][1].end;break}b(r);let L=E;for(;L<e.events.length;)e.events[L][1].end=Object.assign({},y),L++;return Ve(e.events,R+1,0,e.events.slice(E)),e.events.length=L,u(C)}return l(C)}function u(C){if(r===n.length){if(!i)return d(C);if(i.currentConstruct&&i.currentConstruct.concrete)return m(C);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(qr,c,h)(C)}function c(C){return i&&x(),b(r),d(C)}function h(C){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,m(C)}function d(C){return e.containerState={},t.attempt(qr,f,m)(C)}function f(C){return r++,n.push([e.currentConstruct,e.containerState]),d(C)}function m(C){if(C===null){i&&x(),b(0),t.consume(C);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),_(C)}function _(C){if(C===null){w(t.exit("chunkFlow"),!0),b(0),t.consume(C);return}return A(C)?(t.consume(C),w(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(C),_)}function w(C,E){const R=e.sliceStream(C);if(E&&R.push(null),C.previous=o,o&&(o.next=C),o=C,i.defineSkip(C.start),i.write(R),e.parser.lazy[C.start.line]){let y=i.events.length;for(;y--;)if(i.events[y][1].start.offset<s&&(!i.events[y][1].end||i.events[y][1].end.offset>s))return;const L=e.events.length;let D=L,$,V;for(;D--;)if(e.events[D][0]==="exit"&&e.events[D][1].type==="chunkFlow"){if($){V=e.events[D][1].end;break}$=!0}for(b(r),y=L;y<e.events.length;)e.events[y][1].end=Object.assign({},V),y++;Ve(e.events,D+1,0,e.events.slice(L)),e.events.length=y}}function b(C){let E=n.length;for(;E-- >C;){const R=n[E];e.containerState=R[1],R[0].exit.call(e,t)}n.length=C}function x(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function oa(t,e,n){return J(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Xr(t){if(t===null||pe(t)||ea(t))return 1;if(Zl(t))return 2}function nr(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const Un={name:"attention",tokenize:la,resolveAll:sa};function sa(t,e){let n=-1,r,i,o,s,l,a,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;a=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h=Object.assign({},t[r][1].end),d=Object.assign({},t[n][1].start);Yr(h,-a),Yr(d,a),s={type:a>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},t[r][1].end)},l={type:a>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:d},o={type:a>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:a>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},l.end)},t[r][1].end=Object.assign({},s.start),t[n][1].start=Object.assign({},l.end),u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=ke(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=ke(u,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",o,e]]),u=ke(u,nr(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=ke(u,[["exit",o,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=ke(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,Ve(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function la(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Xr(r);let o;return s;function s(a){return o=a,t.enter("attentionSequence"),l(a)}function l(a){if(a===o)return t.consume(a),l;const u=t.exit("attentionSequence"),c=Xr(a),h=!c||c===2&&i||n.includes(a),d=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?h:h&&(i||!d)),u._close=!!(o===42?d:d&&(c||!h)),e(a)}}function Yr(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const aa={name:"autolink",tokenize:ua};function ua(t,e,n){let r=0;return i;function i(f){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(f){return De(f)?(t.consume(f),s):f===64?n(f):u(f)}function s(f){return f===43||f===45||f===46||ve(f)?(r=1,l(f)):u(f)}function l(f){return f===58?(t.consume(f),r=0,a):(f===43||f===45||f===46||ve(f))&&r++<32?(t.consume(f),l):(r=0,u(f))}function a(f){return f===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):f===null||f===32||f===60||jn(f)?n(f):(t.consume(f),a)}function u(f){return f===64?(t.consume(f),c):Ql(f)?(t.consume(f),u):n(f)}function c(f){return ve(f)?h(f):n(f)}function h(f){return f===46?(t.consume(f),r=0,c):f===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):d(f)}function d(f){if((f===45||ve(f))&&r++<63){const m=f===45?d:h;return t.consume(f),m}return n(f)}}const cn={tokenize:ca,partial:!0};function ca(t,e,n){return r;function r(o){return W(o)?J(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||A(o)?e(o):n(o)}}const Xi={name:"blockQuote",tokenize:ha,continuation:{tokenize:fa},exit:da};function ha(t,e,n){const r=this;return i;function i(s){if(s===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),o}return n(s)}function o(s){return W(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function fa(t,e,n){const r=this;return i;function i(s){return W(s)?J(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return t.attempt(Xi,e,n)(s)}}function da(t){t.exit("blockQuote")}const Yi={name:"characterEscape",tokenize:pa};function pa(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return Gl(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const Qi={name:"characterReference",tokenize:ga};function ga(t,e,n){const r=this;let i=0,o,s;return l;function l(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),a}function a(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),o=31,s=ve,c(h))}function u(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,s=Jl,c):(t.enter("characterReferenceValue"),o=7,s=Vn,c(h))}function c(h){if(h===59&&i){const d=t.exit("characterReferenceValue");return s===ve&&!tr(r.sliceSerialize(d))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(h)&&i++<o?(t.consume(h),c):n(h)}}const Qr={tokenize:ya,partial:!0},Jr={name:"codeFenced",tokenize:ma,concrete:!0};function ma(t,e,n){const r=this,i={tokenize:R,partial:!0};let o=0,s=0,l;return a;function a(y){return u(y)}function u(y){const L=r.events[r.events.length-1];return o=L&&L[1].type==="linePrefix"?L[2].sliceSerialize(L[1],!0).length:0,l=y,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(y)}function c(y){return y===l?(s++,t.consume(y),c):s<3?n(y):(t.exit("codeFencedFenceSequence"),W(y)?J(t,h,"whitespace")(y):h(y))}function h(y){return y===null||A(y)?(t.exit("codeFencedFence"),r.interrupt?e(y):t.check(Qr,_,E)(y)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),d(y))}function d(y){return y===null||A(y)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(y)):W(y)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),J(t,f,"whitespace")(y)):y===96&&y===l?n(y):(t.consume(y),d)}function f(y){return y===null||A(y)?h(y):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===null||A(y)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(y)):y===96&&y===l?n(y):(t.consume(y),m)}function _(y){return t.attempt(i,E,w)(y)}function w(y){return t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),b}function b(y){return o>0&&W(y)?J(t,x,"linePrefix",o+1)(y):x(y)}function x(y){return y===null||A(y)?t.check(Qr,_,E)(y):(t.enter("codeFlowValue"),C(y))}function C(y){return y===null||A(y)?(t.exit("codeFlowValue"),x(y)):(t.consume(y),C)}function E(y){return t.exit("codeFenced"),e(y)}function R(y,L,D){let $=0;return V;function V(z){return y.enter("lineEnding"),y.consume(z),y.exit("lineEnding"),P}function P(z){return y.enter("codeFencedFence"),W(z)?J(y,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):M(z)}function M(z){return z===l?(y.enter("codeFencedFenceSequence"),U(z)):D(z)}function U(z){return z===l?($++,y.consume(z),U):$>=s?(y.exit("codeFencedFenceSequence"),W(z)?J(y,K,"whitespace")(z):K(z)):D(z)}function K(z){return z===null||A(z)?(y.exit("codeFencedFence"),L(z)):D(z)}}}function ya(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const kn={name:"codeIndented",tokenize:ba},_a={tokenize:va,partial:!0};function ba(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),J(t,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?a(u):A(u)?t.attempt(_a,s,a)(u):(t.enter("codeFlowValue"),l(u))}function l(u){return u===null||A(u)?(t.exit("codeFlowValue"),s(u)):(t.consume(u),l)}function a(u){return t.exit("codeIndented"),e(u)}}function va(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):A(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):J(t,o,"linePrefix",5)(s)}function o(s){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(s):A(s)?i(s):n(s)}}const Sa={name:"codeText",tokenize:ka,resolve:wa,previous:Ca};function wa(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Ca(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ka(t,e,n){let r=0,i,o;return s;function s(h){return t.enter("codeText"),t.enter("codeTextSequence"),l(h)}function l(h){return h===96?(t.consume(h),r++,l):(t.exit("codeTextSequence"),a(h))}function a(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),a):h===96?(o=t.enter("codeTextSequence"),i=0,c(h)):A(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),a):(t.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||A(h)?(t.exit("codeTextData"),a(h)):(t.consume(h),u)}function c(h){return h===96?(t.consume(h),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(o.type="codeTextData",u(h))}}class xa{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ct(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ct(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ct(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Ct(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ct(this.left,n.reverse())}}}function Ct(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Ji(t){const e={};let n=-1,r,i,o,s,l,a,u;const c=new xa(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,o=0,o<a.length&&a[o][1].type==="lineEndingBlank"&&(o+=2),o<a.length&&a[o][1].type==="content"))for(;++o<a.length&&a[o][1].type!=="content";)a[o][1].type==="chunkText"&&(a[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Ea(c,n)),n=e[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(s=c.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);i&&(r[1].end=Object.assign({},c.get(i)[1].start),l=c.slice(i,n),l.unshift(r),c.splice(i,n-i+1,l))}}return Ve(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function Ea(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[],s=n._tokenizer||r.parser[n.contentType](n.start),l=s.events,a=[],u={};let c,h,d=-1,f=n,m=0,_=0;const w=[_];for(;f;){for(;t.get(++i)[1]!==f;);o.push(i),f._tokenizer||(c=r.sliceStream(f),f.next||c.push(null),h&&s.defineSkip(f.start),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}for(f=n;++d<l.length;)l[d][0]==="exit"&&l[d-1][0]==="enter"&&l[d][1].type===l[d-1][1].type&&l[d][1].start.line!==l[d][1].end.line&&(_=d+1,w.push(_),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(s.events=[],f?(f._tokenizer=void 0,f.previous=void 0):w.pop(),d=w.length;d--;){const b=l.slice(w[d],w[d+1]),x=o.pop();a.push([x,x+b.length-1]),t.splice(x,2,b)}for(a.reverse(),d=-1;++d<a.length;)u[m+a[d][0]]=m+a[d][1],m+=a[d][1]-a[d][0]-1;return u}const Ia={tokenize:Pa,resolve:Ra},Ta={tokenize:La,partial:!0};function Ra(t){return Ji(t),t}function Pa(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?o(l):A(l)?t.check(Ta,s,o)(l):(t.consume(l),i)}function o(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function s(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function La(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),J(t,o,"linePrefix")}function o(s){if(s===null||A(s))return n(s);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function Gi(t,e,n,r,i,o,s,l,a){const u=a||Number.POSITIVE_INFINITY;let c=0;return h;function h(b){return b===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(b),t.exit(o),d):b===null||b===32||b===41||jn(b)?n(b):(t.enter(r),t.enter(s),t.enter(l),t.enter("chunkString",{contentType:"string"}),_(b))}function d(b){return b===62?(t.enter(o),t.consume(b),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),f(b))}function f(b){return b===62?(t.exit("chunkString"),t.exit(l),d(b)):b===null||b===60||A(b)?n(b):(t.consume(b),b===92?m:f)}function m(b){return b===60||b===62||b===92?(t.consume(b),f):f(b)}function _(b){return!c&&(b===null||b===41||pe(b))?(t.exit("chunkString"),t.exit(l),t.exit(s),t.exit(r),e(b)):c<u&&b===40?(t.consume(b),c++,_):b===41?(t.consume(b),c--,_):b===null||b===32||b===40||jn(b)?n(b):(t.consume(b),b===92?w:_)}function w(b){return b===40||b===41||b===92?(t.consume(b),_):_(b)}}function Zi(t,e,n,r,i,o){const s=this;let l=0,a;return u;function u(f){return t.enter(r),t.enter(i),t.consume(f),t.exit(i),t.enter(o),c}function c(f){return l>999||f===null||f===91||f===93&&!a||f===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(f):f===93?(t.exit(o),t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):A(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===null||f===91||f===93||A(f)||l++>999?(t.exit("chunkString"),c(f)):(t.consume(f),a||(a=!W(f)),f===92?d:h)}function d(f){return f===91||f===92||f===93?(t.consume(f),l++,h):h(f)}}function eo(t,e,n,r,i,o){let s;return l;function l(d){return d===34||d===39||d===40?(t.enter(r),t.enter(i),t.consume(d),t.exit(i),s=d===40?41:d,a):n(d)}function a(d){return d===s?(t.enter(i),t.consume(d),t.exit(i),t.exit(r),e):(t.enter(o),u(d))}function u(d){return d===s?(t.exit(o),a(s)):d===null?n(d):A(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),J(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===s||d===null||A(d)?(t.exit("chunkString"),u(d)):(t.consume(d),d===92?h:c)}function h(d){return d===s||d===92?(t.consume(d),c):c(d)}}function It(t,e){let n;return r;function r(i){return A(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):W(i)?J(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Ma={name:"definition",tokenize:Da},Aa={tokenize:Oa,partial:!0};function Da(t,e,n){const r=this;let i;return o;function o(f){return t.enter("definition"),s(f)}function s(f){return Zi.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function l(f){return i=mt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(t.enter("definitionMarker"),t.consume(f),t.exit("definitionMarker"),a):n(f)}function a(f){return pe(f)?It(t,u)(f):u(f)}function u(f){return Gi(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function c(f){return t.attempt(Aa,h,h)(f)}function h(f){return W(f)?J(t,d,"whitespace")(f):d(f)}function d(f){return f===null||A(f)?(t.exit("definition"),r.parser.defined.push(i),e(f)):n(f)}}function Oa(t,e,n){return r;function r(l){return pe(l)?It(t,i)(l):n(l)}function i(l){return eo(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function o(l){return W(l)?J(t,s,"whitespace")(l):s(l)}function s(l){return l===null||A(l)?e(l):n(l)}}const Fa={name:"hardBreakEscape",tokenize:za};function za(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return A(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const Na={name:"headingAtx",tokenize:Ha,resolve:Ba};function Ba(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Ve(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function Ha(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),o(c)}function o(c){return t.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(t.consume(c),s):c===null||pe(c)?(t.exit("atxHeadingSequence"),l(c)):n(c)}function l(c){return c===35?(t.enter("atxHeadingSequence"),a(c)):c===null||A(c)?(t.exit("atxHeading"),e(c)):W(c)?J(t,l,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function a(c){return c===35?(t.consume(c),a):(t.exit("atxHeadingSequence"),l(c))}function u(c){return c===null||c===35||pe(c)?(t.exit("atxHeadingText"),l(c)):(t.consume(c),u)}}const $a=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Gr=["pre","script","style","textarea"],ja={name:"htmlFlow",tokenize:Ka,resolveTo:Wa,concrete:!0},Va={tokenize:Xa,partial:!0},Ua={tokenize:qa,partial:!0};function Wa(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Ka(t,e,n){const r=this;let i,o,s,l,a;return u;function u(g){return c(g)}function c(g){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(g),h}function h(g){return g===33?(t.consume(g),d):g===47?(t.consume(g),o=!0,_):g===63?(t.consume(g),i=3,r.interrupt?e:p):De(g)?(t.consume(g),s=String.fromCharCode(g),w):n(g)}function d(g){return g===45?(t.consume(g),i=2,f):g===91?(t.consume(g),i=5,l=0,m):De(g)?(t.consume(g),i=4,r.interrupt?e:p):n(g)}function f(g){return g===45?(t.consume(g),r.interrupt?e:p):n(g)}function m(g){const ye="CDATA[";return g===ye.charCodeAt(l++)?(t.consume(g),l===ye.length?r.interrupt?e:M:m):n(g)}function _(g){return De(g)?(t.consume(g),s=String.fromCharCode(g),w):n(g)}function w(g){if(g===null||g===47||g===62||pe(g)){const ye=g===47,Oe=s.toLowerCase();return!ye&&!o&&Gr.includes(Oe)?(i=1,r.interrupt?e(g):M(g)):$a.includes(s.toLowerCase())?(i=6,ye?(t.consume(g),b):r.interrupt?e(g):M(g)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(g):o?x(g):C(g))}return g===45||ve(g)?(t.consume(g),s+=String.fromCharCode(g),w):n(g)}function b(g){return g===62?(t.consume(g),r.interrupt?e:M):n(g)}function x(g){return W(g)?(t.consume(g),x):V(g)}function C(g){return g===47?(t.consume(g),V):g===58||g===95||De(g)?(t.consume(g),E):W(g)?(t.consume(g),C):V(g)}function E(g){return g===45||g===46||g===58||g===95||ve(g)?(t.consume(g),E):R(g)}function R(g){return g===61?(t.consume(g),y):W(g)?(t.consume(g),R):C(g)}function y(g){return g===null||g===60||g===61||g===62||g===96?n(g):g===34||g===39?(t.consume(g),a=g,L):W(g)?(t.consume(g),y):D(g)}function L(g){return g===a?(t.consume(g),a=null,$):g===null||A(g)?n(g):(t.consume(g),L)}function D(g){return g===null||g===34||g===39||g===47||g===60||g===61||g===62||g===96||pe(g)?R(g):(t.consume(g),D)}function $(g){return g===47||g===62||W(g)?C(g):n(g)}function V(g){return g===62?(t.consume(g),P):n(g)}function P(g){return g===null||A(g)?M(g):W(g)?(t.consume(g),P):n(g)}function M(g){return g===45&&i===2?(t.consume(g),le):g===60&&i===1?(t.consume(g),re):g===62&&i===4?(t.consume(g),me):g===63&&i===3?(t.consume(g),p):g===93&&i===5?(t.consume(g),Ee):A(g)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Va,we,U)(g)):g===null||A(g)?(t.exit("htmlFlowData"),U(g)):(t.consume(g),M)}function U(g){return t.check(Ua,K,we)(g)}function K(g){return t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),z}function z(g){return g===null||A(g)?U(g):(t.enter("htmlFlowData"),M(g))}function le(g){return g===45?(t.consume(g),p):M(g)}function re(g){return g===47?(t.consume(g),s="",ge):M(g)}function ge(g){if(g===62){const ye=s.toLowerCase();return Gr.includes(ye)?(t.consume(g),me):M(g)}return De(g)&&s.length<8?(t.consume(g),s+=String.fromCharCode(g),ge):M(g)}function Ee(g){return g===93?(t.consume(g),p):M(g)}function p(g){return g===62?(t.consume(g),me):g===45&&i===2?(t.consume(g),p):M(g)}function me(g){return g===null||A(g)?(t.exit("htmlFlowData"),we(g)):(t.consume(g),me)}function we(g){return t.exit("htmlFlow"),e(g)}}function qa(t,e,n){const r=this;return i;function i(s){return A(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function Xa(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(cn,e,n)}}const Ya={name:"htmlText",tokenize:Qa};function Qa(t,e,n){const r=this;let i,o,s;return l;function l(p){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(p),a}function a(p){return p===33?(t.consume(p),u):p===47?(t.consume(p),R):p===63?(t.consume(p),C):De(p)?(t.consume(p),D):n(p)}function u(p){return p===45?(t.consume(p),c):p===91?(t.consume(p),o=0,m):De(p)?(t.consume(p),x):n(p)}function c(p){return p===45?(t.consume(p),f):n(p)}function h(p){return p===null?n(p):p===45?(t.consume(p),d):A(p)?(s=h,re(p)):(t.consume(p),h)}function d(p){return p===45?(t.consume(p),f):h(p)}function f(p){return p===62?le(p):p===45?d(p):h(p)}function m(p){const me="CDATA[";return p===me.charCodeAt(o++)?(t.consume(p),o===me.length?_:m):n(p)}function _(p){return p===null?n(p):p===93?(t.consume(p),w):A(p)?(s=_,re(p)):(t.consume(p),_)}function w(p){return p===93?(t.consume(p),b):_(p)}function b(p){return p===62?le(p):p===93?(t.consume(p),b):_(p)}function x(p){return p===null||p===62?le(p):A(p)?(s=x,re(p)):(t.consume(p),x)}function C(p){return p===null?n(p):p===63?(t.consume(p),E):A(p)?(s=C,re(p)):(t.consume(p),C)}function E(p){return p===62?le(p):C(p)}function R(p){return De(p)?(t.consume(p),y):n(p)}function y(p){return p===45||ve(p)?(t.consume(p),y):L(p)}function L(p){return A(p)?(s=L,re(p)):W(p)?(t.consume(p),L):le(p)}function D(p){return p===45||ve(p)?(t.consume(p),D):p===47||p===62||pe(p)?$(p):n(p)}function $(p){return p===47?(t.consume(p),le):p===58||p===95||De(p)?(t.consume(p),V):A(p)?(s=$,re(p)):W(p)?(t.consume(p),$):le(p)}function V(p){return p===45||p===46||p===58||p===95||ve(p)?(t.consume(p),V):P(p)}function P(p){return p===61?(t.consume(p),M):A(p)?(s=P,re(p)):W(p)?(t.consume(p),P):$(p)}function M(p){return p===null||p===60||p===61||p===62||p===96?n(p):p===34||p===39?(t.consume(p),i=p,U):A(p)?(s=M,re(p)):W(p)?(t.consume(p),M):(t.consume(p),K)}function U(p){return p===i?(t.consume(p),i=void 0,z):p===null?n(p):A(p)?(s=U,re(p)):(t.consume(p),U)}function K(p){return p===null||p===34||p===39||p===60||p===61||p===96?n(p):p===47||p===62||pe(p)?$(p):(t.consume(p),K)}function z(p){return p===47||p===62||pe(p)?$(p):n(p)}function le(p){return p===62?(t.consume(p),t.exit("htmlTextData"),t.exit("htmlText"),e):n(p)}function re(p){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),ge}function ge(p){return W(p)?J(t,Ee,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(p):Ee(p)}function Ee(p){return t.enter("htmlTextData"),s(p)}}const rr={name:"labelEnd",tokenize:nu,resolveTo:tu,resolveAll:eu},Ja={tokenize:ru},Ga={tokenize:iu},Za={tokenize:ou};function eu(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function tu(t,e){let n=t.length,r=0,i,o,s,l;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const a={type:t[o][1].type==="labelLink"?"link":"image",start:Object.assign({},t[o][1].start),end:Object.assign({},t[t.length-1][1].end)},u={type:"label",start:Object.assign({},t[o][1].start),end:Object.assign({},t[s][1].end)},c={type:"labelText",start:Object.assign({},t[o+r+2][1].end),end:Object.assign({},t[s-2][1].start)};return l=[["enter",a,e],["enter",u,e]],l=ke(l,t.slice(o+1,o+r+3)),l=ke(l,[["enter",c,e]]),l=ke(l,nr(e.parser.constructs.insideSpan.null,t.slice(o+r+4,s-3),e)),l=ke(l,[["exit",c,e],t[s-2],t[s-1],["exit",u,e]]),l=ke(l,t.slice(s+1)),l=ke(l,[["exit",a,e]]),Ve(t,o,t.length,l),t}function nu(t,e,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return l;function l(d){return o?o._inactive?h(d):(s=r.parser.defined.includes(mt(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelEnd"),a):n(d)}function a(d){return d===40?t.attempt(Ja,c,s?c:h)(d):d===91?t.attempt(Ga,c,s?u:h)(d):s?c(d):h(d)}function u(d){return t.attempt(Za,c,h)(d)}function c(d){return e(d)}function h(d){return o._balanced=!0,n(d)}}function ru(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return pe(h)?It(t,o)(h):o(h)}function o(h){return h===41?c(h):Gi(t,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function s(h){return pe(h)?It(t,a)(h):c(h)}function l(h){return n(h)}function a(h){return h===34||h===39||h===40?eo(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):c(h)}function u(h){return pe(h)?It(t,c)(h):c(h)}function c(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function iu(t,e,n){const r=this;return i;function i(l){return Zi.call(r,t,o,s,"reference","referenceMarker","referenceString")(l)}function o(l){return r.parser.defined.includes(mt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function s(l){return n(l)}}function ou(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const su={name:"labelStartImage",tokenize:lu,resolveAll:rr.resolveAll};function lu(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),o}function o(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),s):n(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const au={name:"labelStartLink",tokenize:uu,resolveAll:rr.resolveAll};function uu(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const xn={name:"lineEnding",tokenize:cu};function cu(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),J(t,e,"linePrefix")}}const Xt={name:"thematicBreak",tokenize:hu};function hu(t,e,n){let r=0,i;return o;function o(u){return t.enter("thematicBreak"),s(u)}function s(u){return i=u,l(u)}function l(u){return u===i?(t.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||A(u))?(t.exit("thematicBreak"),e(u)):n(u)}function a(u){return u===i?(t.consume(u),r++,a):(t.exit("thematicBreakSequence"),W(u)?J(t,l,"whitespace")(u):l(u))}}const de={name:"list",tokenize:pu,continuation:{tokenize:gu},exit:yu},fu={tokenize:_u,partial:!0},du={tokenize:mu,partial:!0};function pu(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return l;function l(f){const m=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:Vn(f)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),f===42||f===45?t.check(Xt,n,u)(f):u(f);if(!r.interrupt||f===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),a(f)}return n(f)}function a(f){return Vn(f)&&++s<10?(t.consume(f),a):(!r.interrupt||s<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(t.exit("listItemValue"),u(f)):n(f)}function u(f){return t.enter("listItemMarker"),t.consume(f),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,t.check(cn,r.interrupt?n:c,t.attempt(fu,d,h))}function c(f){return r.containerState.initialBlankLine=!0,o++,d(f)}function h(f){return W(f)?(t.enter("listItemPrefixWhitespace"),t.consume(f),t.exit("listItemPrefixWhitespace"),d):n(f)}function d(f){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(f)}}function gu(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(cn,i,o);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,J(t,e,"listItemIndent",r.containerState.size+1)(l)}function o(l){return r.containerState.furtherBlankLines||!W(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(du,e,s)(l))}function s(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,J(t,t.attempt(de,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function mu(t,e,n){const r=this;return J(t,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(o):n(o)}}function yu(t){t.exit(this.containerState.type)}function _u(t,e,n){const r=this;return J(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!W(o)&&s&&s[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const Zr={name:"setextUnderline",tokenize:vu,resolveTo:bu};function bu(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",s,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[o][1].end)):t[r][1]=s,t.push(["exit",s,e]),t}function vu(t,e,n){const r=this;let i;return o;function o(u){let c=r.events.length,h;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){h=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return t.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(t.consume(u),l):(t.exit("setextHeadingLineSequence"),W(u)?J(t,a,"lineSuffix")(u):a(u))}function a(u){return u===null||A(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const Su={tokenize:wu};function wu(t){const e=this,n=t.attempt(cn,r,t.attempt(this.parser.constructs.flowInitial,i,J(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Ia,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Cu={resolveAll:no()},ku=to("string"),xu=to("text");function to(t){return{tokenize:e,resolveAll:no(t==="text"?Eu:void 0)};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,s,l);return s;function s(c){return u(c)?o(c):l(c)}function l(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),a}function a(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),a)}function u(c){if(c===null)return!0;const h=i[c];let d=-1;if(h)for(;++d<h.length;){const f=h[d];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function no(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function Eu(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,s=-1,l=0,a;for(;o--;){const u=i[o];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(u===-2)a=!0,l++;else if(u!==-1){o++;break}}if(l){const u={type:n===t.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+o,_bufferIndex:o?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}function Iu(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let s=[],l=[];const a={consume:x,enter:C,exit:E,attempt:L(R),check:L(y),interrupt:L(y,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:f,sliceSerialize:d,now:m,defineSkip:_,write:h};let c=e.tokenize.call(u,a);return e.resolveAll&&o.push(e),u;function h(P){return s=ke(s,P),w(),s[s.length-1]!==null?[]:(D(e,0),u.events=nr(o,u.events,u),u.events)}function d(P,M){return Ru(f(P),M)}function f(P){return Tu(s,P)}function m(){const{line:P,column:M,offset:U,_index:K,_bufferIndex:z}=r;return{line:P,column:M,offset:U,_index:K,_bufferIndex:z}}function _(P){i[P.line]=P.column,V()}function w(){let P;for(;r._index<s.length;){const M=s[r._index];if(typeof M=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<M.length;)b(M.charCodeAt(r._bufferIndex));else b(M)}}function b(P){c=c(P)}function x(P){A(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,V()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=P}function C(P,M){const U=M||{};return U.type=P,U.start=m(),u.events.push(["enter",U,u]),l.push(U),U}function E(P){const M=l.pop();return M.end=m(),u.events.push(["exit",M,u]),M}function R(P,M){D(P,M.from)}function y(P,M){M.restore()}function L(P,M){return U;function U(K,z,le){let re,ge,Ee,p;return Array.isArray(K)?we(K):"tokenize"in K?we([K]):me(K);function me(ie){return Ue;function Ue(Le){const Fe=Le!==null&&ie[Le],We=Le!==null&&ie.null,ht=[...Array.isArray(Fe)?Fe:Fe?[Fe]:[],...Array.isArray(We)?We:We?[We]:[]];return we(ht)(Le)}}function we(ie){return re=ie,ge=0,ie.length===0?le:g(ie[ge])}function g(ie){return Ue;function Ue(Le){return p=$(),Ee=ie,ie.partial||(u.currentConstruct=ie),ie.name&&u.parser.constructs.disable.null.includes(ie.name)?Oe():ie.tokenize.call(M?Object.assign(Object.create(u),M):u,a,ye,Oe)(Le)}}function ye(ie){return P(Ee,p),z}function Oe(ie){return p.restore(),++ge<re.length?g(re[ge]):le}}}function D(P,M){P.resolveAll&&!o.includes(P)&&o.push(P),P.resolve&&Ve(u.events,M,u.events.length-M,P.resolve(u.events.slice(M),u)),P.resolveTo&&(u.events=P.resolveTo(u.events,u))}function $(){const P=m(),M=u.previous,U=u.currentConstruct,K=u.events.length,z=Array.from(l);return{restore:le,from:K};function le(){r=P,u.previous=M,u.currentConstruct=U,u.events.length=K,l=z,V()}}function V(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Tu(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,o)];else{if(s=t.slice(n,i),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):s.shift()}o>0&&s.push(t[i].slice(0,o))}return s}function Ru(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}const Pu={42:de,43:de,45:de,48:de,49:de,50:de,51:de,52:de,53:de,54:de,55:de,56:de,57:de,62:Xi},Lu={91:Ma},Mu={[-2]:kn,[-1]:kn,32:kn},Au={35:Na,42:Xt,45:[Zr,Xt],60:ja,61:Zr,95:Xt,96:Jr,126:Jr},Du={38:Qi,92:Yi},Ou={[-5]:xn,[-4]:xn,[-3]:xn,33:su,38:Qi,42:Un,60:[aa,Ya],91:au,92:[Fa,Yi],93:rr,95:Un,96:Sa},Fu={null:[Un,Cu]},zu={null:[42,95]},Nu={null:[]},Bu=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:zu,contentInitial:Lu,disable:Nu,document:Pu,flow:Au,flowInitial:Mu,insideSpan:Fu,string:Du,text:Ou},Symbol.toStringTag,{value:"Module"}));function Hu(t){const n=ql([Bu,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(ta),document:i(ra),flow:i(Su),string:i(ku),text:i(xu)};return r;function i(o){return s;function s(l){return Iu(r,o,l)}}}function $u(t){for(;!Ji(t););return t}const ei=/[\0\t\n\r]/g;function ju(){let t=1,e="",n=!0,r;return i;function i(o,s,l){const a=[];let u,c,h,d,f;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),h=0,e="",n&&(o.charCodeAt(0)===65279&&h++,n=void 0);h<o.length;){if(ei.lastIndex=h,u=ei.exec(o),d=u&&u.index!==void 0?u.index:o.length,f=o.charCodeAt(d),!u){e=o.slice(h);break}if(f===10&&h===d&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),h<d&&(a.push(o.slice(h,d)),t+=d-h),f){case 0:{a.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,a.push(-2);t++<c;)a.push(-1);break}case 10:{a.push(-4),t=1;break}default:r=!0,t=1}h=d+1}return l&&(r&&a.push(-5),e&&a.push(e),a.push(null)),a}}const Vu=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Uu(t){return t.replace(Vu,Wu)}function Wu(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return qi(n.slice(o?2:1),o?16:10)}return tr(n)||t}const ro={}.hasOwnProperty;function Ku(t,e,n){return typeof e!="string"&&(n=e,e=void 0),qu(n)($u(Hu(n).document().write(ju()(t,e,!0))))}function qu(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(ce),autolinkProtocol:$,autolinkEmail:$,atxHeading:o(dt),blockQuote:o(We),characterEscape:$,characterReference:$,codeFenced:o(ht),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(ht,s),codeText:o(Dt,s),codeTextData:$,data:$,codeFlowValue:$,definition:o(Ot),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(ft),hardBreakEscape:o(Ft),hardBreakTrailing:o(Ft),htmlFlow:o(zt,s),htmlFlowData:$,htmlText:o(zt,s),htmlTextData:$,image:o(Nt),label:s,link:o(ce),listItem:o(Ke),listItemValue:d,listOrdered:o(Ge,h),listUnordered:o(Ge),paragraph:o(ze),reference:g,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(dt),strong:o(vt),thematicBreak:o(St)},exit:{atxHeading:a(),atxHeadingSequence:R,autolink:a(),autolinkEmail:Fe,autolinkProtocol:Le,blockQuote:a(),characterEscapeValue:V,characterReferenceMarkerHexadecimal:Oe,characterReferenceMarkerNumeric:Oe,characterReferenceValue:ie,characterReference:Ue,codeFenced:a(w),codeFencedFence:_,codeFencedFenceInfo:f,codeFencedFenceMeta:m,codeFlowValue:V,codeIndented:a(b),codeText:a(z),codeTextData:V,data:V,definition:a(),definitionDestinationString:E,definitionLabelString:x,definitionTitleString:C,emphasis:a(),hardBreakEscape:a(M),hardBreakTrailing:a(M),htmlFlow:a(U),htmlFlowData:V,htmlText:a(K),htmlTextData:V,image:a(re),label:Ee,labelText:ge,lineEnding:P,link:a(le),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:ye,resourceDestinationString:p,resourceTitleString:me,resource:we,setextHeading:a(D),setextHeadingLineSequence:L,setextHeadingText:y,strong:a(),thematicBreak:a()}};io(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(v){let I={type:"root",children:[]};const F={stack:[I],tokenStack:[],config:e,enter:l,exit:u,buffer:s,resume:c,data:n},j=[];let q=-1;for(;++q<v.length;)if(v[q][1].type==="listOrdered"||v[q][1].type==="listUnordered")if(v[q][0]==="enter")j.push(q);else{const _e=j.pop();q=i(v,_e,q)}for(q=-1;++q<v.length;){const _e=e[v[q][0]];ro.call(_e,v[q][1].type)&&_e[v[q][1].type].call(Object.assign({sliceSerialize:v[q][2].sliceSerialize},F),v[q][1])}if(F.tokenStack.length>0){const _e=F.tokenStack[F.tokenStack.length-1];(_e[1]||ti).call(F,void 0,_e[0])}for(I.position={start:Ye(v.length>0?v[0][1].start:{line:1,column:1,offset:0}),end:Ye(v.length>0?v[v.length-2][1].end:{line:1,column:1,offset:0})},q=-1;++q<e.transforms.length;)I=e.transforms[q](I)||I;return I}function i(v,I,F){let j=I-1,q=-1,_e=!1,Ne,Ie,Ze,Y;for(;++j<=F;){const he=v[j];switch(he[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{he[0]==="enter"?q++:q--,Y=void 0;break}case"lineEndingBlank":{he[0]==="enter"&&(Ne&&!Y&&!q&&!Ze&&(Ze=j),Y=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Y=void 0}if(!q&&he[0]==="enter"&&he[1].type==="listItemPrefix"||q===-1&&he[0]==="exit"&&(he[1].type==="listUnordered"||he[1].type==="listOrdered")){if(Ne){let qe=j;for(Ie=void 0;qe--;){const Te=v[qe];if(Te[1].type==="lineEnding"||Te[1].type==="lineEndingBlank"){if(Te[0]==="exit")continue;Ie&&(v[Ie][1].type="lineEndingBlank",_e=!0),Te[1].type="lineEnding",Ie=qe}else if(!(Te[1].type==="linePrefix"||Te[1].type==="blockQuotePrefix"||Te[1].type==="blockQuotePrefixWhitespace"||Te[1].type==="blockQuoteMarker"||Te[1].type==="listItemIndent"))break}Ze&&(!Ie||Ze<Ie)&&(Ne._spread=!0),Ne.end=Object.assign({},Ie?v[Ie][1].start:he[1].end),v.splice(Ie||j,0,["exit",Ne,he[2]]),j++,F++}if(he[1].type==="listItemPrefix"){const qe={type:"listItem",_spread:!1,start:Object.assign({},he[1].start),end:void 0};Ne=qe,v.splice(j,0,["enter",qe,he[2]]),j++,F++,Ze=void 0,Y=!0}}}return v[I][1]._spread=_e,F}function o(v,I){return F;function F(j){l.call(this,v(j),j),I&&I.call(this,j)}}function s(){this.stack.push({type:"fragment",children:[]})}function l(v,I,F){this.stack[this.stack.length-1].children.push(v),this.stack.push(v),this.tokenStack.push([I,F||void 0]),v.position={start:Ye(I.start),end:void 0}}function a(v){return I;function I(F){v&&v.call(this,F),u.call(this,F)}}function u(v,I){const F=this.stack.pop(),j=this.tokenStack.pop();if(j)j[0].type!==v.type&&(I?I.call(this,v,j[0]):(j[1]||ti).call(this,v,j[0]));else throw new Error("Cannot close `"+v.type+"` ("+Et({start:v.start,end:v.end})+"): its not open");F.position.end=Ye(v.end)}function c(){return Wl(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function d(v){if(this.data.expectingFirstListItemValue){const I=this.stack[this.stack.length-2];I.start=Number.parseInt(this.sliceSerialize(v),10),this.data.expectingFirstListItemValue=void 0}}function f(){const v=this.resume(),I=this.stack[this.stack.length-1];I.lang=v}function m(){const v=this.resume(),I=this.stack[this.stack.length-1];I.meta=v}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const v=this.resume(),I=this.stack[this.stack.length-1];I.value=v.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const v=this.resume(),I=this.stack[this.stack.length-1];I.value=v.replace(/(\r?\n|\r)$/g,"")}function x(v){const I=this.resume(),F=this.stack[this.stack.length-1];F.label=I,F.identifier=mt(this.sliceSerialize(v)).toLowerCase()}function C(){const v=this.resume(),I=this.stack[this.stack.length-1];I.title=v}function E(){const v=this.resume(),I=this.stack[this.stack.length-1];I.url=v}function R(v){const I=this.stack[this.stack.length-1];if(!I.depth){const F=this.sliceSerialize(v).length;I.depth=F}}function y(){this.data.setextHeadingSlurpLineEnding=!0}function L(v){const I=this.stack[this.stack.length-1];I.depth=this.sliceSerialize(v).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function $(v){const F=this.stack[this.stack.length-1].children;let j=F[F.length-1];(!j||j.type!=="text")&&(j=Bt(),j.position={start:Ye(v.start),end:void 0},F.push(j)),this.stack.push(j)}function V(v){const I=this.stack.pop();I.value+=this.sliceSerialize(v),I.position.end=Ye(v.end)}function P(v){const I=this.stack[this.stack.length-1];if(this.data.atHardBreak){const F=I.children[I.children.length-1];F.position.end=Ye(v.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(I.type)&&($.call(this,v),V.call(this,v))}function M(){this.data.atHardBreak=!0}function U(){const v=this.resume(),I=this.stack[this.stack.length-1];I.value=v}function K(){const v=this.resume(),I=this.stack[this.stack.length-1];I.value=v}function z(){const v=this.resume(),I=this.stack[this.stack.length-1];I.value=v}function le(){const v=this.stack[this.stack.length-1];if(this.data.inReference){const I=this.data.referenceType||"shortcut";v.type+="Reference",v.referenceType=I,delete v.url,delete v.title}else delete v.identifier,delete v.label;this.data.referenceType=void 0}function re(){const v=this.stack[this.stack.length-1];if(this.data.inReference){const I=this.data.referenceType||"shortcut";v.type+="Reference",v.referenceType=I,delete v.url,delete v.title}else delete v.identifier,delete v.label;this.data.referenceType=void 0}function ge(v){const I=this.sliceSerialize(v),F=this.stack[this.stack.length-2];F.label=Uu(I),F.identifier=mt(I).toLowerCase()}function Ee(){const v=this.stack[this.stack.length-1],I=this.resume(),F=this.stack[this.stack.length-1];if(this.data.inReference=!0,F.type==="link"){const j=v.children;F.children=j}else F.alt=I}function p(){const v=this.resume(),I=this.stack[this.stack.length-1];I.url=v}function me(){const v=this.resume(),I=this.stack[this.stack.length-1];I.title=v}function we(){this.data.inReference=void 0}function g(){this.data.referenceType="collapsed"}function ye(v){const I=this.resume(),F=this.stack[this.stack.length-1];F.label=I,F.identifier=mt(this.sliceSerialize(v)).toLowerCase(),this.data.referenceType="full"}function Oe(v){this.data.characterReferenceType=v.type}function ie(v){const I=this.sliceSerialize(v),F=this.data.characterReferenceType;let j;F?(j=qi(I,F==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):j=tr(I);const q=this.stack[this.stack.length-1];q.value+=j}function Ue(v){const I=this.stack.pop();I.position.end=Ye(v.end)}function Le(v){V.call(this,v);const I=this.stack[this.stack.length-1];I.url=this.sliceSerialize(v)}function Fe(v){V.call(this,v);const I=this.stack[this.stack.length-1];I.url="mailto:"+this.sliceSerialize(v)}function We(){return{type:"blockquote",children:[]}}function ht(){return{type:"code",lang:null,meta:null,value:""}}function Dt(){return{type:"inlineCode",value:""}}function Ot(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ft(){return{type:"emphasis",children:[]}}function dt(){return{type:"heading",depth:0,children:[]}}function Ft(){return{type:"break"}}function zt(){return{type:"html",value:""}}function Nt(){return{type:"image",title:null,url:"",alt:null}}function ce(){return{type:"link",title:null,url:"",children:[]}}function Ge(v){return{type:"list",ordered:v.type==="listOrdered",start:null,spread:v._spread,children:[]}}function Ke(v){return{type:"listItem",spread:v._spread,checked:null,children:[]}}function ze(){return{type:"paragraph",children:[]}}function vt(){return{type:"strong",children:[]}}function Bt(){return{type:"text",value:""}}function St(){return{type:"thematicBreak"}}}function Ye(t){return{line:t.line,column:t.column,offset:t.offset}}function io(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?io(t,r):Xu(t,r)}}function Xu(t,e){let n;for(n in e)if(ro.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function ti(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Et({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Et({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Et({start:e.start,end:e.end})+") is still open")}function Yu(t){const e=this;e.parser=n;function n(r){return Ku(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Qu(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Ju(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Gu(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function Zu(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ec(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function tc(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=bt(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let s,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=o+1,l+=1,t.footnoteCounts.set(r,l);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return t.patch(e,u),t.applyData(e,u)}function nc(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function rc(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function oo(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function ic(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return oo(t,e);const i={src:bt(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function oc(t,e){const n={src:bt(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function sc(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function lc(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return oo(t,e);const i={href:bt(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function ac(t,e){const n={href:bt(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function uc(t,e,n){const r=t.all(e),i=n?cc(n):so(e),o={},s=[];if(typeof e.checked=="boolean"){const c=r[0];let h;c&&c.type==="element"&&c.tagName==="p"?h=c:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const c=r[l];(i||l!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:s};return t.patch(e,u),t.applyData(e,u)}function cc(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=so(n[r])}return e}function so(t){const e=t.spread;return e??t.children.length>1}function hc(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function fc(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function dc(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function pc(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function gc(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=Jn(e.children[1]),a=Hi(e.children[e.children.length-1]);l&&a&&(s.position={start:l,end:a}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function mc(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,l=s?s.length:e.children.length;let a=-1;const u=[];for(;++a<l;){const h=e.children[a],d={},f=s?s[a]:void 0;f&&(d.align=f);let m={type:"element",tagName:o,properties:d,children:[]};h&&(m.children=t.all(h),t.patch(h,m),m=t.applyData(h,m)),u.push(m)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function yc(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const ni=9,ri=32;function _c(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(ii(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(ii(e.slice(i),i>0,!1)),o.join("")}function ii(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===ni||o===ri;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===ni||o===ri;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function bc(t,e){const n={type:"text",value:_c(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function vc(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Sc={blockquote:Qu,break:Ju,code:Gu,delete:Zu,emphasis:ec,footnoteReference:tc,heading:nc,html:rc,imageReference:ic,image:oc,inlineCode:sc,linkReference:lc,link:ac,listItem:uc,list:hc,paragraph:fc,root:dc,strong:pc,table:gc,tableCell:yc,tableRow:mc,text:bc,thematicBreak:vc,toml:jt,yaml:jt,definition:jt,footnoteDefinition:jt};function jt(){}const lo=-1,hn=0,nn=1,rn=2,ir=3,or=4,sr=5,lr=6,ao=7,uo=8,oi=typeof self=="object"?self:globalThis,wc=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,s]=e[i];switch(o){case hn:case lo:return n(s,i);case nn:{const l=n([],i);for(const a of s)l.push(r(a));return l}case rn:{const l=n({},i);for(const[a,u]of s)l[r(a)]=r(u);return l}case ir:return n(new Date(s),i);case or:{const{source:l,flags:a}=s;return n(new RegExp(l,a),i)}case sr:{const l=n(new Map,i);for(const[a,u]of s)l.set(r(a),r(u));return l}case lr:{const l=n(new Set,i);for(const a of s)l.add(r(a));return l}case ao:{const{name:l,message:a}=s;return n(new oi[l](a),i)}case uo:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i)}return n(new oi[o](s),i)};return r},si=t=>wc(new Map,t)(0),pt="",{toString:Cc}={},{keys:kc}=Object,kt=t=>{const e=typeof t;if(e!=="object"||!t)return[hn,e];const n=Cc.call(t).slice(8,-1);switch(n){case"Array":return[nn,pt];case"Object":return[rn,pt];case"Date":return[ir,pt];case"RegExp":return[or,pt];case"Map":return[sr,pt];case"Set":return[lr,pt]}return n.includes("Array")?[nn,n]:n.includes("Error")?[ao,n]:[rn,n]},Vt=([t,e])=>t===hn&&(e==="function"||e==="symbol"),xc=(t,e,n,r)=>{const i=(s,l)=>{const a=r.push(s)-1;return n.set(l,a),a},o=s=>{if(n.has(s))return n.get(s);let[l,a]=kt(s);switch(l){case hn:{let c=s;switch(a){case"bigint":l=uo,c=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+a);c=null;break;case"undefined":return i([lo],s)}return i([l,c],s)}case nn:{if(a)return i([a,[...s]],s);const c=[],h=i([l,c],s);for(const d of s)c.push(o(d));return h}case rn:{if(a)switch(a){case"BigInt":return i([a,s.toString()],s);case"Boolean":case"Number":case"String":return i([a,s.valueOf()],s)}if(e&&"toJSON"in s)return o(s.toJSON());const c=[],h=i([l,c],s);for(const d of kc(s))(t||!Vt(kt(s[d])))&&c.push([o(d),o(s[d])]);return h}case ir:return i([l,s.toISOString()],s);case or:{const{source:c,flags:h}=s;return i([l,{source:c,flags:h}],s)}case sr:{const c=[],h=i([l,c],s);for(const[d,f]of s)(t||!(Vt(kt(d))||Vt(kt(f))))&&c.push([o(d),o(f)]);return h}case lr:{const c=[],h=i([l,c],s);for(const d of s)(t||!Vt(kt(d)))&&c.push(o(d));return h}}const{message:u}=s;return i([l,{name:a,message:u}],s)};return o},li=(t,{json:e,lossy:n}={})=>{const r=[];return xc(!(e||n),!!e,new Map,r)(t),r},on=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?si(li(t,e)):structuredClone(t):(t,e)=>si(li(t,e));function Ec(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Ic(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Tc(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Ec,r=t.options.footnoteBackLabel||Ic,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let a=-1;for(;++a<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[a]);if(!u)continue;const c=t.all(u),h=String(u.identifier).toUpperCase(),d=bt(h.toLowerCase());let f=0;const m=[],_=t.footnoteCounts.get(h);for(;_!==void 0&&++f<=_;){m.length>0&&m.push({type:"text",value:" "});let x=typeof n=="string"?n:n(a,f);typeof x=="string"&&(x={type:"text",value:x}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+d+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,f),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const w=c[c.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const x=w.children[w.children.length-1];x&&x.type==="text"?x.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...m)}else c.push(...m);const b={type:"element",tagName:"li",properties:{id:e+"fn-"+d},children:t.wrap(c,!0)};t.patch(u,b),l.push(b)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...on(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const co=function(t){if(t==null)return Mc;if(typeof t=="function")return fn(t);if(typeof t=="object")return Array.isArray(t)?Rc(t):Pc(t);if(typeof t=="string")return Lc(t);throw new Error("Expected function, string, or object as test")};function Rc(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=co(t[n]);return fn(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function Pc(t){const e=t;return fn(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function Lc(t){return fn(e);function e(n){return n&&n.type===t}}function fn(t){return e;function e(n,r,i){return!!(Ac(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Mc(){return!0}function Ac(t){return t!==null&&typeof t=="object"&&"type"in t}const ho=[],Dc=!0,ai=!1,Oc="skip";function Fc(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=co(i),s=r?-1:1;l(t,void 0,[])();function l(a,u,c){const h=a&&typeof a=="object"?a:{};if(typeof h.type=="string"){const f=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(a.type+(f?"<"+f+">":""))+")"})}return d;function d(){let f=ho,m,_,w;if((!e||o(a,u,c[c.length-1]||void 0))&&(f=zc(n(a,c)),f[0]===ai))return f;if("children"in a&&a.children){const b=a;if(b.children&&f[0]!==Oc)for(_=(r?b.children.length:-1)+s,w=c.concat(b);_>-1&&_<b.children.length;){const x=b.children[_];if(m=l(x,_,w)(),m[0]===ai)return m;_=typeof m[1]=="number"?m[1]:_+s}}return f}}}function zc(t){return Array.isArray(t)?t:typeof t=="number"?[Dc,t]:t==null?ho:[t]}function fo(t,e,n,r){let i,o,s;typeof e=="function"&&typeof n!="function"?(o=void 0,s=e,i=n):(o=e,s=n,i=r),Fc(t,o,l,i);function l(a,u){const c=u[u.length-1],h=c?c.children.indexOf(a):void 0;return s(a,h,c)}}const Wn={}.hasOwnProperty,Nc={};function Bc(t,e){const n=e||Nc,r=new Map,i=new Map,o=new Map,s={...Sc,...n.handlers},l={all:u,applyData:$c,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:a,options:n,patch:Hc,wrap:Vc};return fo(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const h=c.type==="definition"?r:i,d=String(c.identifier).toUpperCase();h.has(d)||h.set(d,c)}}),l;function a(c,h){const d=c.type,f=l.handlers[d];if(Wn.call(l.handlers,d)&&f)return f(l,c,h);if(l.options.passThrough&&l.options.passThrough.includes(d)){if("children"in c){const{children:_,...w}=c,b=on(w);return b.children=l.all(c),b}return on(c)}return(l.options.unknownHandler||jc)(l,c,h)}function u(c){const h=[];if("children"in c){const d=c.children;let f=-1;for(;++f<d.length;){const m=l.one(d[f],c);if(m){if(f&&d[f-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=ui(m.value)),!Array.isArray(m)&&m.type==="element")){const _=m.children[0];_&&_.type==="text"&&(_.value=ui(_.value))}Array.isArray(m)?h.push(...m):h.push(m)}}}return h}}function Hc(t,e){t.position&&(e.position=Sl(t))}function $c(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,on(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function jc(t,e){const n=e.data||{},r="value"in e&&!(Wn.call(n,"hProperties")||Wn.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Vc(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function ui(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function ci(t,e){const n=Bc(t,e),r=n.one(t,void 0),i=Tc(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function Uc(t,e){return t&&"run"in t?async function(n,r){const i=ci(n,{file:r,...e});await t.run(i,r)}:function(n,r){return ci(n,{file:r,...t||e})}}function hi(t){if(t)throw t}var Yt=Object.prototype.hasOwnProperty,po=Object.prototype.toString,fi=Object.defineProperty,di=Object.getOwnPropertyDescriptor,pi=function(e){return typeof Array.isArray=="function"?Array.isArray(e):po.call(e)==="[object Array]"},gi=function(e){if(!e||po.call(e)!=="[object Object]")return!1;var n=Yt.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Yt.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Yt.call(e,i)},mi=function(e,n){fi&&n.name==="__proto__"?fi(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},yi=function(e,n){if(n==="__proto__")if(Yt.call(e,n)){if(di)return di(e,n).value}else return;return e[n]},Wc=function t(){var e,n,r,i,o,s,l=arguments[0],a=1,u=arguments.length,c=!1;for(typeof l=="boolean"&&(c=l,l=arguments[1]||{},a=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});a<u;++a)if(e=arguments[a],e!=null)for(n in e)r=yi(l,n),i=yi(e,n),l!==i&&(c&&i&&(gi(i)||(o=pi(i)))?(o?(o=!1,s=r&&pi(r)?r:[]):s=r&&gi(r)?r:{},mi(l,{name:n,newValue:t(c,s,i)})):typeof i<"u"&&mi(l,{name:n,newValue:i}));return l};const En=Xn(Wc);function Kn(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Kc(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...i);function l(a,...u){const c=t[++o];let h=-1;if(a){s(a);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,c?qc(c,l)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function qc(t,e){let n;return r;function r(...s){const l=t.length>s.length;let a;l&&s.push(i);try{a=t.apply(this,s)}catch(u){const c=u;if(l&&n)throw c;return i(c)}l||(a&&a.then&&typeof a.then=="function"?a.then(o,i):a instanceof Error?i(a):o(a))}function i(s,...l){n||(n=!0,e(s,...l))}function o(s){i(null,s)}}const Ae={basename:Xc,dirname:Yc,extname:Qc,join:Jc,sep:"/"};function Xc(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');At(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function Yc(t){if(At(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Qc(t){At(t);let e=t.length,n=-1,r=0,i=-1,o=0,s;for(;e--;){const l=t.codePointAt(e);if(l===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),l===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function Jc(...t){let e=-1,n;for(;++e<t.length;)At(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Gc(n)}function Gc(t){At(t);const e=t.codePointAt(0)===47;let n=Zc(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Zc(t,e){let n="",r=0,i=-1,o=0,s=-1,l,a;for(;++s<=t.length;){if(s<t.length)l=t.codePointAt(s);else{if(l===47)break;l=47}if(l===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,o=0}else l===46&&o>-1?o++:o=-1}return n}function At(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const eh={cwd:th};function th(){return"/"}function qn(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function nh(t){if(typeof t=="string")t=new URL(t);else if(!qn(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return rh(t)}function rh(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const In=["history","path","basename","stem","extname","dirname"];class go{constructor(e){let n;e?qn(e)?n={path:e}:typeof e=="string"||ih(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":eh.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<In.length;){const o=In[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)In.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ae.basename(this.path):void 0}set basename(e){Rn(e,"basename"),Tn(e,"basename"),this.path=Ae.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ae.dirname(this.path):void 0}set dirname(e){_i(this.basename,"dirname"),this.path=Ae.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ae.extname(this.path):void 0}set extname(e){if(Tn(e,"extname"),_i(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ae.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){qn(e)&&(e=nh(e)),Rn(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ae.basename(this.path,this.extname):void 0}set stem(e){Rn(e,"stem"),Tn(e,"stem"),this.path=Ae.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new ue(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Tn(t,e){if(t&&t.includes(Ae.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ae.sep+"`")}function Rn(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function _i(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function ih(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const oh=function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},sh={}.hasOwnProperty;class ar extends oh{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Kc()}copy(){const e=new ar;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(En(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Mn("data",this.frozen),this.namespace[e]=n,this):sh.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Mn("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Ut(e),r=this.parser||this.Parser;return Pn("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Pn("process",this.parser||this.Parser),Ln("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const l=Ut(e),a=r.parse(l);r.run(a,l,function(c,h,d){if(c||!h||!d)return u(c);const f=h,m=r.stringify(f,d);uh(m)?d.value=m:d.result=m,u(c,d)});function u(c,h){c||!h?s(c):o?o(h):n(void 0,h)}}}processSync(e){let n=!1,r;return this.freeze(),Pn("processSync",this.parser||this.Parser),Ln("processSync",this.compiler||this.Compiler),this.process(e,i),vi("processSync","process",n),r;function i(o,s){n=!0,hi(o),r=s}}run(e,n,r){bi(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,l){const a=Ut(n);i.run(e,a,u);function u(c,h,d){const f=h||e;c?l(c):s?s(f):r(void 0,f,d)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),vi("runSync","run",r),i;function o(s,l){hi(s),i=l,r=!0}}stringify(e,n){this.freeze();const r=Ut(n),i=this.compiler||this.Compiler;return Ln("stringify",i),bi(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Mn("use",this.frozen),e!=null)if(typeof e=="function")a(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...h]=u;a(c,h)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=En(!0,i.settings,u.settings))}function l(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const h=u[c];o(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,c){let h=-1,d=-1;for(;++h<r.length;)if(r[h][0]===u){d=h;break}if(d===-1)r.push([u,...c]);else if(c.length>0){let[f,...m]=c;const _=r[d][1];Kn(_)&&Kn(f)&&(f=En(!0,_,f)),r[d]=[u,f,...m]}}}}const lh=new ar().freeze();function Pn(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Ln(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Mn(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function bi(t){if(!Kn(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function vi(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Ut(t){return ah(t)?t:new go(t)}function ah(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function uh(t){return typeof t=="string"||ch(t)}function ch(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const hh="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Si=[],wi={allowDangerousHtml:!0},fh=/^(https?|ircs?|mailto|xmpp)$/i,dh=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ph(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,o=t.components,s=t.disallowedElements,l=t.rehypePlugins||Si,a=t.remarkPlugins||Si,u=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...wi}:wi,c=t.skipHtml,h=t.unwrapDisallowed,d=t.urlTransform||gh,f=lh().use(Yu).use(a).use(Uc,u).use(l),m=new go;typeof r=="string"&&(m.value=r);for(const x of dh)Object.hasOwn(t,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+hh+x.id,void 0);const _=f.parse(m);let w=f.runSync(_,m);return i&&(w={type:"element",tagName:"div",properties:{className:i},children:w.type==="root"?w.children:[w]}),fo(w,b),Il(w,{Fragment:fe.Fragment,components:o,ignoreInvalidStyle:!0,jsx:fe.jsx,jsxs:fe.jsxs,passKeys:!0,passNode:!0});function b(x,C,E){if(x.type==="raw"&&E&&typeof C=="number")return c?E.children.splice(C,1):E.children[C]={type:"text",value:x.value},C;if(x.type==="element"){let R;for(R in Cn)if(Object.hasOwn(Cn,R)&&Object.hasOwn(x.properties,R)){const y=x.properties[R],L=Cn[R];(L===null||L.includes(x.tagName))&&(x.properties[R]=d(String(y||""),R,x))}}if(x.type==="element"){let R=e?!e.includes(x.tagName):s?s.includes(x.tagName):!1;if(!R&&n&&typeof C=="number"&&(R=!n(x,C,E)),R&&E&&typeof C=="number")return h&&x.children?E.children.splice(C,1,...x.children):E.children.splice(C,1),C}}}function gh(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e<0||i>-1&&e>i||n>-1&&e>n||r>-1&&e>r||fh.test(t.slice(0,e))?t:""}class ot extends Error{constructor(e,n){const r=new.target.prototype;super(`${e}: Status code '${n}'`),this.statusCode=n,this.__proto__=r}}class ur extends Error{constructor(e="A timeout occurred."){const n=new.target.prototype;super(e),this.__proto__=n}}class Pe extends Error{constructor(e="An abort occurred."){const n=new.target.prototype;super(e),this.__proto__=n}}class mh extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=r}}class yh extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=r}}class _h extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=r}}class Ci extends Error{constructor(e){const n=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class bh extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.innerErrors=n,this.__proto__=r}}class mo{constructor(e,n,r){this.statusCode=e,this.statusText=n,this.content=r}}class dn{get(e,n){return this.send({...n,method:"GET",url:e})}post(e,n){return this.send({...n,method:"POST",url:e})}delete(e,n){return this.send({...n,method:"DELETE",url:e})}getCookieString(e){return""}}var S;(function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None"})(S||(S={}));class Rt{constructor(){}log(e,n){}}Rt.instance=new Rt;const vh="8.0.7";class ne{static isRequired(e,n){if(e==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(e,n){if(!e||e.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(e,n,r){if(!(e in n))throw new Error(`Unknown ${r} value: ${e}.`)}}class Z{static get isBrowser(){return!Z.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!Z.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!Z.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function Pt(t,e){let n="";return lt(t)?(n=`Binary data of length ${t.byteLength}`,e&&(n+=`. Content: '${Sh(t)}'`)):typeof t=="string"&&(n=`String data of length ${t.length}`,e&&(n+=`. Content: '${t}'`)),n}function Sh(t){const e=new Uint8Array(t);let n="";return e.forEach(r=>{const i=r<16?"0":"";n+=`0x${i}${r.toString(16)} `}),n.substr(0,n.length-1)}function lt(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&t.constructor.name==="ArrayBuffer")}async function yo(t,e,n,r,i,o){const s={},[l,a]=yt();s[l]=a,t.log(S.Trace,`(${e} transport) sending data. ${Pt(i,o.logMessageContent)}.`);const u=lt(i)?"arraybuffer":"text",c=await n.post(r,{content:i,headers:{...s,...o.headers},responseType:u,timeout:o.timeout,withCredentials:o.withCredentials});t.log(S.Trace,`(${e} transport) request complete. Response status: ${c.statusCode}.`)}function wh(t){return t===void 0?new sn(S.Information):t===null?Rt.instance:t.log!==void 0?t:new sn(t)}class Ch{constructor(e,n){this._subject=e,this._observer=n}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class sn{constructor(e){this._minLevel=e,this.out=console}log(e,n){if(e>=this._minLevel){const r=`[${new Date().toISOString()}] ${S[e]}: ${n}`;switch(e){case S.Critical:case S.Error:this.out.error(r);break;case S.Warning:this.out.warn(r);break;case S.Information:this.out.info(r);break;default:this.out.log(r);break}}}}function yt(){let t="X-SignalR-User-Agent";return Z.isNode&&(t="User-Agent"),[t,kh(vh,xh(),Ih(),Eh())]}function kh(t,e,n,r){let i="Microsoft SignalR/";const o=t.split(".");return i+=`${o[0]}.${o[1]}`,i+=` (${t}; `,e&&e!==""?i+=`${e}; `:i+="Unknown OS; ",i+=`${n}`,r?i+=`; ${r}`:i+="; Unknown Runtime Version",i+=")",i}function xh(){if(Z.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function Eh(){if(Z.isNode)return process.versions.node}function Ih(){return Z.isNode?"NodeJS":"Browser"}function An(t){return t.stack?t.stack:t.message?t.message:`${t}`}function Th(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class Rh extends dn{constructor(e){if(super(),this._logger=e,typeof fetch>"u"||Z.isNode){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(n("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=n("node-fetch"):this._fetchType=fetch,this._fetchType=n("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(Th());if(typeof AbortController>"u"){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=n("abort-controller")}else this._abortControllerType=AbortController}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new Pe;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const n=new this._abortControllerType;let r;e.abortSignal&&(e.abortSignal.onabort=()=>{n.abort(),r=new Pe});let i=null;if(e.timeout){const a=e.timeout;i=setTimeout(()=>{n.abort(),this._logger.log(S.Warning,"Timeout from HTTP request."),r=new ur},a)}e.content===""&&(e.content=void 0),e.content&&(e.headers=e.headers||{},lt(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");let o;try{o=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:e.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...e.headers},method:e.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(a){throw r||(this._logger.log(S.Warning,`Error from HTTP request. ${a}.`),a)}finally{i&&clearTimeout(i),e.abortSignal&&(e.abortSignal.onabort=null)}if(!o.ok){const a=await ki(o,"text");throw new ot(a||o.statusText,o.status)}const l=await ki(o,e.responseType);return new mo(o.status,o.statusText,l)}getCookieString(e){let n="";return Z.isNode&&this._jar&&this._jar.getCookies(e,(r,i)=>n=i.join("; ")),n}}function ki(t,e){let n;switch(e){case"arraybuffer":n=t.arrayBuffer();break;case"text":n=t.text();break;case"blob":case"document":case"json":throw new Error(`${e} is not supported.`);default:n=t.text();break}return n}class Ph extends dn{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new Pe):e.method?e.url?new Promise((n,r)=>{const i=new XMLHttpRequest;i.open(e.method,e.url,!0),i.withCredentials=e.withCredentials===void 0?!0:e.withCredentials,i.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.content===""&&(e.content=void 0),e.content&&(lt(e.content)?i.setRequestHeader("Content-Type","application/octet-stream"):i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const o=e.headers;o&&Object.keys(o).forEach(s=>{i.setRequestHeader(s,o[s])}),e.responseType&&(i.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{i.abort(),r(new Pe)}),e.timeout&&(i.timeout=e.timeout),i.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),i.status>=200&&i.status<300?n(new mo(i.status,i.statusText,i.response||i.responseText)):r(new ot(i.response||i.responseText||i.statusText,i.status))},i.onerror=()=>{this._logger.log(S.Warning,`Error from HTTP request. ${i.status}: ${i.statusText}.`),r(new ot(i.statusText,i.status))},i.ontimeout=()=>{this._logger.log(S.Warning,"Timeout from HTTP request."),r(new ur)},i.send(e.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class Lh extends dn{constructor(e){if(super(),typeof fetch<"u"||Z.isNode)this._httpClient=new Rh(e);else if(typeof XMLHttpRequest<"u")this._httpClient=new Ph(e);else throw new Error("No usable HttpClient found.")}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new Pe):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}}class Se{static write(e){return`${e}${Se.RecordSeparator}`}static parse(e){if(e[e.length-1]!==Se.RecordSeparator)throw new Error("Message is incomplete.");const n=e.split(Se.RecordSeparator);return n.pop(),n}}Se.RecordSeparatorCode=30;Se.RecordSeparator=String.fromCharCode(Se.RecordSeparatorCode);class Mh{writeHandshakeRequest(e){return Se.write(JSON.stringify(e))}parseHandshakeResponse(e){let n,r;if(lt(e)){const l=new Uint8Array(e),a=l.indexOf(Se.RecordSeparatorCode);if(a===-1)throw new Error("Message is incomplete.");const u=a+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(l.slice(0,u))),r=l.byteLength>u?l.slice(u).buffer:null}else{const l=e,a=l.indexOf(Se.RecordSeparator);if(a===-1)throw new Error("Message is incomplete.");const u=a+1;n=l.substring(0,u),r=l.length>u?l.substring(u):null}const i=Se.parse(n),o=JSON.parse(i[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[r,o]}}var N;(function(t){t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close",t[t.Ack=8]="Ack",t[t.Sequence=9]="Sequence"})(N||(N={}));class Ah{constructor(){this.observers=[]}next(e){for(const n of this.observers)n.next(e)}error(e){for(const n of this.observers)n.error&&n.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new Ch(this,e)}}class Dh{constructor(e,n,r){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=e,this._connection=n,this._bufferSize=r}async _send(e){const n=this._protocol.writeMessage(e);let r=Promise.resolve();if(this._isInvocationMessage(e)){this._totalMessageCount++;let i=()=>{},o=()=>{};lt(n)?this._bufferedByteCount+=n.byteLength:this._bufferedByteCount+=n.length,this._bufferedByteCount>=this._bufferSize&&(r=new Promise((s,l)=>{i=s,o=l})),this._messages.push(new Oh(n,this._totalMessageCount,i,o))}try{this._reconnectInProgress||await this._connection.send(n)}catch{this._disconnected()}await r}_ack(e){let n=-1;for(let r=0;r<this._messages.length;r++){const i=this._messages[r];if(i._id<=e.sequenceId)n=r,lt(i._message)?this._bufferedByteCount-=i._message.byteLength:this._bufferedByteCount-=i._message.length,i._resolver();else if(this._bufferedByteCount<this._bufferSize)i._resolver();else break}n!==-1&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(e){if(this._waitForSequenceMessage)return e.type!==N.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(e))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(e){if(e.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=e.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const e=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:N.Sequence,sequenceId:e}));const n=this._messages;for(const r of n)await this._connection.send(r._message);this._reconnectInProgress=!1}_dispose(e){e??(e=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(e)}_isInvocationMessage(e){switch(e.type){case N.Invocation:case N.StreamItem:case N.Completion:case N.StreamInvocation:case N.CancelInvocation:return!0;case N.Close:case N.Sequence:case N.Ping:case N.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:N.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class Oh{constructor(e,n,r,i){this._message=e,this._id=n,this._resolver=r,this._rejector=i}}const Fh=30*1e3,zh=15*1e3,Nh=1e5;var G;(function(t){t.Disconnected="Disconnected",t.Connecting="Connecting",t.Connected="Connected",t.Disconnecting="Disconnecting",t.Reconnecting="Reconnecting"})(G||(G={}));class cr{static create(e,n,r,i,o,s,l){return new cr(e,n,r,i,o,s,l)}constructor(e,n,r,i,o,s,l){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(S.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},ne.isRequired(e,"connection"),ne.isRequired(n,"logger"),ne.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=o??Fh,this.keepAliveIntervalInMilliseconds=s??zh,this._statefulReconnectBufferSize=l??Nh,this._logger=n,this._protocol=r,this.connection=e,this._reconnectPolicy=i,this._handshakeProtocol=new Mh,this.connection.onreceive=a=>this._processIncomingData(a),this.connection.onclose=a=>this._connectionClosed(a),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=G.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:N.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==G.Disconnected&&this._connectionState!==G.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==G.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=G.Connecting,this._logger.log(S.Debug,"Starting HubConnection.");try{await this._startInternal(),Z.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=G.Connected,this._connectionStarted=!0,this._logger.log(S.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=G.Disconnected,this._logger.log(S.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const e=new Promise((n,r)=>{this._handshakeResolver=n,this._handshakeRejecter=r});await this.connection.start(this._protocol.transferFormat);try{let n=this._protocol.version;this.connection.features.reconnect||(n=1);const r={protocol:this._protocol.name,version:n};if(this._logger.log(S.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(r)),this._logger.log(S.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new Dh(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(n){throw this._logger.log(S.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(n),n}}async stop(){const e=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch{}}_stopInternal(e){if(this._connectionState===G.Disconnected)return this._logger.log(S.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===G.Disconnecting)return this._logger.log(S.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=G.Disconnecting,this._logger.log(S.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(S.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===G.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new Pe("The connection was stopped before the hub handshake could complete."),this.connection.stop(e))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(e,...n){const[r,i]=this._replaceStreamingParams(n),o=this._createStreamInvocation(e,n,i);let s;const l=new Ah;return l.cancelCallback=()=>{const a=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],s.then(()=>this._sendWithProtocol(a))},this._callbacks[o.invocationId]=(a,u)=>{if(u){l.error(u);return}else a&&(a.type===N.Completion?a.error?l.error(new Error(a.error)):l.complete():l.next(a.item))},s=this._sendWithProtocol(o).catch(a=>{l.error(a),delete this._callbacks[o.invocationId]}),this._launchStreams(r,s),l}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._messageBuffer?this._messageBuffer._send(e):this._sendMessage(this._protocol.writeMessage(e))}send(e,...n){const[r,i]=this._replaceStreamingParams(n),o=this._sendWithProtocol(this._createInvocation(e,n,!0,i));return this._launchStreams(r,o),o}invoke(e,...n){const[r,i]=this._replaceStreamingParams(n),o=this._createInvocation(e,n,!1,i);return new Promise((l,a)=>{this._callbacks[o.invocationId]=(c,h)=>{if(h){a(h);return}else c&&(c.type===N.Completion?c.error?a(new Error(c.error)):l(c.result):a(new Error(`Unexpected message type: ${c.type}`)))};const u=this._sendWithProtocol(o).catch(c=>{a(c),delete this._callbacks[o.invocationId]});this._launchStreams(r,u)})}on(e,n){!e||!n||(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),this._methods[e].indexOf(n)===-1&&this._methods[e].push(n))}off(e,n){if(!e)return;e=e.toLowerCase();const r=this._methods[e];if(r)if(n){const i=r.indexOf(n);i!==-1&&(r.splice(i,1),r.length===0&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const n=this._protocol.parseMessages(e,this._logger);for(const r of n)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(r)))switch(r.type){case N.Invocation:this._invokeClientMethod(r).catch(i=>{this._logger.log(S.Error,`Invoke client method threw error: ${An(i)}`)});break;case N.StreamItem:case N.Completion:{const i=this._callbacks[r.invocationId];if(i){r.type===N.Completion&&delete this._callbacks[r.invocationId];try{i(r)}catch(o){this._logger.log(S.Error,`Stream callback threw error: ${An(o)}`)}}break}case N.Ping:break;case N.Close:{this._logger.log(S.Information,"Close message received from server.");const i=r.error?new Error("Server returned an error on close: "+r.error):void 0;r.allowReconnect===!0?this.connection.stop(i):this._stopPromise=this._stopInternal(i);break}case N.Ack:this._messageBuffer&&this._messageBuffer._ack(r);break;case N.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(r);break;default:this._logger.log(S.Warning,`Invalid message type: ${r.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let n,r;try{[r,n]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(i){const o="Error parsing handshake response: "+i;this._logger.log(S.Error,o);const s=new Error(o);throw this._handshakeRejecter(s),s}if(n.error){const i="Server returned handshake error: "+n.error;this._logger.log(S.Error,i);const o=new Error(i);throw this._handshakeRejecter(o),o}else this._logger.log(S.Debug,"Server handshake complete.");return this._handshakeResolver(),r}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let e=this._nextKeepAlive-new Date().getTime();e<0&&(e=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===G.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){const n=e.target.toLowerCase(),r=this._methods[n];if(!r){this._logger.log(S.Warning,`No client method with the name '${n}' found.`),e.invocationId&&(this._logger.log(S.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)));return}const i=r.slice(),o=!!e.invocationId;let s,l,a;for(const u of i)try{const c=s;s=await u.apply(this,e.arguments),o&&s&&c&&(this._logger.log(S.Error,`Multiple results provided for '${n}'. Sending error to server.`),a=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),l=void 0}catch(c){l=c,this._logger.log(S.Error,`A callback for the method '${n}' threw error '${c}'.`)}a?await this._sendWithProtocol(a):o?(l?a=this._createCompletionMessage(e.invocationId,`${l}`,null):s!==void 0?a=this._createCompletionMessage(e.invocationId,null,s):(this._logger.log(S.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),a=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(a)):s&&this._logger.log(S.Error,`Result given for '${n}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(S.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new Pe("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===G.Disconnecting?this._completeClose(e):this._connectionState===G.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===G.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=G.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(e??new Error("Connection closed.")),this._messageBuffer=void 0),Z.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[e]))}catch(n){this._logger.log(S.Error,`An onclose callback called with error '${e}' threw error '${n}'.`)}}}async _reconnect(e){const n=Date.now();let r=0,i=e!==void 0?e:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(r++,0,i);if(o===null){this._logger.log(S.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(e);return}if(this._connectionState=G.Reconnecting,e?this._logger.log(S.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(S.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(s=>s.apply(this,[e]))}catch(s){this._logger.log(S.Error,`An onreconnecting callback called with error '${e}' threw error '${s}'.`)}if(this._connectionState!==G.Reconnecting){this._logger.log(S.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;o!==null;){if(this._logger.log(S.Information,`Reconnect attempt number ${r} will start in ${o} ms.`),await new Promise(s=>{this._reconnectDelayHandle=setTimeout(s,o)}),this._reconnectDelayHandle=void 0,this._connectionState!==G.Reconnecting){this._logger.log(S.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=G.Connected,this._logger.log(S.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(s=>s.apply(this,[this.connection.connectionId]))}catch(s){this._logger.log(S.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${s}'.`)}return}catch(s){if(this._logger.log(S.Information,`Reconnect attempt failed because of error '${s}'.`),this._connectionState!==G.Reconnecting){this._logger.log(S.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===G.Disconnecting&&this._completeClose();return}i=s instanceof Error?s:new Error(s.toString()),o=this._getNextRetryDelay(r++,Date.now()-n,i)}}this._logger.log(S.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${r} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,n,r){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:e,retryReason:r})}catch(i){return this._logger.log(S.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${n}) threw error '${i}'.`),null}}_cancelCallbacksWithError(e){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(r=>{const i=n[r];try{i(null,e)}catch(o){this._logger.log(S.Error,`Stream 'error' callback called with '${e}' threw error: ${An(o)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,n,r,i){if(r)return i.length!==0?{arguments:n,streamIds:i,target:e,type:N.Invocation}:{arguments:n,target:e,type:N.Invocation};{const o=this._invocationId;return this._invocationId++,i.length!==0?{arguments:n,invocationId:o.toString(),streamIds:i,target:e,type:N.Invocation}:{arguments:n,invocationId:o.toString(),target:e,type:N.Invocation}}}_launchStreams(e,n){if(e.length!==0){n||(n=Promise.resolve());for(const r in e)e[r].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r)))},error:i=>{let o;i instanceof Error?o=i.message:i&&i.toString?o=i.toString():o="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r,o)))},next:i=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(r,i)))}})}}_replaceStreamingParams(e){const n=[],r=[];for(let i=0;i<e.length;i++){const o=e[i];if(this._isObservable(o)){const s=this._invocationId;this._invocationId++,n[s]=o,r.push(s.toString()),e.splice(i,1)}}return[n,r]}_isObservable(e){return e&&e.subscribe&&typeof e.subscribe=="function"}_createStreamInvocation(e,n,r){const i=this._invocationId;return this._invocationId++,r.length!==0?{arguments:n,invocationId:i.toString(),streamIds:r,target:e,type:N.StreamInvocation}:{arguments:n,invocationId:i.toString(),target:e,type:N.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:N.CancelInvocation}}_createStreamItemMessage(e,n){return{invocationId:e,item:n,type:N.StreamItem}}_createCompletionMessage(e,n,r){return n?{error:n,invocationId:e,type:N.Completion}:{invocationId:e,result:r,type:N.Completion}}_createCloseMessage(){return{type:N.Close}}}const Bh=[0,2e3,1e4,3e4,null];class xi{constructor(e){this._retryDelays=e!==void 0?[...e,null]:Bh}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}}class st{}st.Authorization="Authorization";st.Cookie="Cookie";class Hh extends dn{constructor(e,n){super(),this._innerClient=e,this._accessTokenFactory=n}async send(e){let n=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);const r=await this._innerClient.send(e);return n&&r.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):r}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[st.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[st.Authorization]&&delete e.headers[st.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}}var se;(function(t){t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling"})(se||(se={}));var ae;(function(t){t[t.Text=1]="Text",t[t.Binary=2]="Binary"})(ae||(ae={}));let $h=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class Ei{get pollAborted(){return this._pollAbort.aborted}constructor(e,n,r){this._httpClient=e,this._logger=n,this._pollAbort=new $h,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}async connect(e,n){if(ne.isRequired(e,"url"),ne.isRequired(n,"transferFormat"),ne.isIn(n,ae,"transferFormat"),this._url=e,this._logger.log(S.Trace,"(LongPolling transport) Connecting."),n===ae.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[r,i]=yt(),o={[r]:i,...this._options.headers},s={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};n===ae.Binary&&(s.responseType="arraybuffer");const l=`${e}&_=${Date.now()}`;this._logger.log(S.Trace,`(LongPolling transport) polling: ${l}.`);const a=await this._httpClient.get(l,s);a.statusCode!==200?(this._logger.log(S.Error,`(LongPolling transport) Unexpected response code: ${a.statusCode}.`),this._closeError=new ot(a.statusText||"",a.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,s)}async _poll(e,n){try{for(;this._running;)try{const r=`${e}&_=${Date.now()}`;this._logger.log(S.Trace,`(LongPolling transport) polling: ${r}.`);const i=await this._httpClient.get(r,n);i.statusCode===204?(this._logger.log(S.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):i.statusCode!==200?(this._logger.log(S.Error,`(LongPolling transport) Unexpected response code: ${i.statusCode}.`),this._closeError=new ot(i.statusText||"",i.statusCode),this._running=!1):i.content?(this._logger.log(S.Trace,`(LongPolling transport) data received. ${Pt(i.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(i.content)):this._logger.log(S.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(r){this._running?r instanceof ur?this._logger.log(S.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=r,this._running=!1):this._logger.log(S.Trace,`(LongPolling transport) Poll errored after shutdown: ${r.message}`)}}finally{this._logger.log(S.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?yo(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(S.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(S.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const e={},[n,r]=yt();e[n]=r;const i={headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let o;try{await this._httpClient.delete(this._url,i)}catch(s){o=s}o?o instanceof ot&&(o.statusCode===404?this._logger.log(S.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(S.Trace,`(LongPolling transport) Error sending a DELETE request: ${o}`)):this._logger.log(S.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(S.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(S.Trace,e),this.onclose(this._closeError)}}}class jh{constructor(e,n,r,i){this._httpClient=e,this._accessToken=n,this._logger=r,this._options=i,this.onreceive=null,this.onclose=null}async connect(e,n){return ne.isRequired(e,"url"),ne.isRequired(n,"transferFormat"),ne.isIn(n,ae,"transferFormat"),this._logger.log(S.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((r,i)=>{let o=!1;if(n!==ae.Text){i(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let s;if(Z.isBrowser||Z.isWebWorker)s=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{const l=this._httpClient.getCookieString(e),a={};a.Cookie=l;const[u,c]=yt();a[u]=c,s=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:{...a,...this._options.headers}})}try{s.onmessage=l=>{if(this.onreceive)try{this._logger.log(S.Trace,`(SSE transport) data received. ${Pt(l.data,this._options.logMessageContent)}.`),this.onreceive(l.data)}catch(a){this._close(a);return}},s.onerror=l=>{o?this._close():i(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},s.onopen=()=>{this._logger.log(S.Information,`SSE connected to ${this._url}`),this._eventSource=s,o=!0,r()}}catch(l){i(l);return}})}async send(e){return this._eventSource?yo(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}}class Vh{constructor(e,n,r,i,o,s){this._logger=r,this._accessTokenFactory=n,this._logMessageContent=i,this._webSocketConstructor=o,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=s}async connect(e,n){ne.isRequired(e,"url"),ne.isRequired(n,"transferFormat"),ne.isIn(n,ae,"transferFormat"),this._logger.log(S.Trace,"(WebSockets transport) Connecting.");let r;return this._accessTokenFactory&&(r=await this._accessTokenFactory()),new Promise((i,o)=>{e=e.replace(/^http/,"ws");let s;const l=this._httpClient.getCookieString(e);let a=!1;if(Z.isNode||Z.isReactNative){const u={},[c,h]=yt();u[c]=h,r&&(u[st.Authorization]=`Bearer ${r}`),l&&(u[st.Cookie]=l),s=new this._webSocketConstructor(e,void 0,{headers:{...u,...this._headers}})}else r&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`);s||(s=new this._webSocketConstructor(e)),n===ae.Binary&&(s.binaryType="arraybuffer"),s.onopen=u=>{this._logger.log(S.Information,`WebSocket connected to ${e}.`),this._webSocket=s,a=!0,i()},s.onerror=u=>{let c=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?c=u.error:c="There was an error with the transport",this._logger.log(S.Information,`(WebSockets transport) ${c}.`)},s.onmessage=u=>{if(this._logger.log(S.Trace,`(WebSockets transport) data received. ${Pt(u.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(u.data)}catch(c){this._close(c);return}},s.onclose=u=>{if(a)this._close(u);else{let c=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?c=u.error:c="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(c))}}})}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(S.Trace,`(WebSockets transport) sending data. ${Pt(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(S.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(e)&&(e.wasClean===!1||e.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)):e instanceof Error?this.onclose(e):this.onclose())}_isCloseEvent(e){return e&&typeof e.wasClean=="boolean"&&typeof e.code=="number"}}const Ii=100;class Uh{constructor(e,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,ne.isRequired(e,"url"),this._logger=wh(n.logger),this.baseUrl=this._resolveUrl(e),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let r=null,i=null;if(Z.isNode&&typeof require<"u"){const o=typeof __webpack_require__=="function"?__non_webpack_require__:require;r=o("ws"),i=o("eventsource")}!Z.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:Z.isNode&&!n.WebSocket&&r&&(n.WebSocket=r),!Z.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:Z.isNode&&!n.EventSource&&typeof i<"u"&&(n.EventSource=i),this._httpClient=new Hh(n.httpClient||new Lh(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}async start(e){if(e=e||ae.Binary,ne.isIn(e,ae,"transferFormat"),this._logger.log(S.Debug,`Starting connection with transfer format '${ae[e]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,this._connectionState==="Disconnecting"){const n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(S.Error,n),await this._stopPromise,Promise.reject(new Pe(n))}else if(this._connectionState!=="Connected"){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(S.Error,n),Promise.reject(new Pe(n))}this._connectionStarted=!0}send(e){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new hr(this.transport)),this._sendQueue.send(e))}async stop(e){if(this._connectionState==="Disconnected")return this._logger.log(S.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(S.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),await this._stopInternal(e),await this._stopPromise}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(n){this._logger.log(S.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(S.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===se.WebSockets)this.transport=this._constructTransport(se.WebSockets),await this._startTransport(n,e);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let r=null,i=0;do{if(r=await this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new Pe("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(r.url&&(n=r.url),r.accessToken){const o=r.accessToken;this._accessTokenFactory=()=>o,this._httpClient._accessToken=o,this._httpClient._accessTokenFactory=void 0}i++}while(r.url&&i<Ii);if(i===Ii&&r.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(n,this._options.transport,r,e)}this.transport instanceof Ei&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(S.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(r){return this._logger.log(S.Error,"Failed to start the connection: "+r),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(r)}}async _getNegotiationResponse(e){const n={},[r,i]=yt();n[r]=i;const o=this._resolveNegotiateUrl(e);this._logger.log(S.Debug,`Sending negotiation request: ${o}.`);try{const s=await this._httpClient.post(o,{content:"",headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(s.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${s.statusCode}'`));const l=JSON.parse(s.content);return(!l.negotiateVersion||l.negotiateVersion<1)&&(l.connectionToken=l.connectionId),l.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new Ci("Client didn't negotiate Stateful Reconnect but the server did.")):l}catch(s){let l="Failed to complete negotiation with the server: "+s;return s instanceof ot&&s.statusCode===404&&(l=l+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(S.Error,l),Promise.reject(new Ci(l))}}_createConnectUrl(e,n){return n?e+(e.indexOf("?")===-1?"?":"&")+`id=${n}`:e}async _createTransport(e,n,r,i){let o=this._createConnectUrl(e,r.connectionToken);if(this._isITransport(n)){this._logger.log(S.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,await this._startTransport(o,i),this.connectionId=r.connectionId;return}const s=[],l=r.availableTransports||[];let a=r;for(const u of l){const c=this._resolveTransportOrError(u,n,i,(a==null?void 0:a.useStatefulReconnect)===!0);if(c instanceof Error)s.push(`${u.transport} failed:`),s.push(c);else if(this._isITransport(c)){if(this.transport=c,!a){try{a=await this._getNegotiationResponse(e)}catch(h){return Promise.reject(h)}o=this._createConnectUrl(e,a.connectionToken)}try{await this._startTransport(o,i),this.connectionId=a.connectionId;return}catch(h){if(this._logger.log(S.Error,`Failed to start the transport '${u.transport}': ${h}`),a=void 0,s.push(new _h(`${u.transport} failed: ${h}`,se[u.transport])),this._connectionState!=="Connecting"){const d="Failed to select transport before stop() was called.";return this._logger.log(S.Debug,d),Promise.reject(new Pe(d))}}}}return s.length>0?Promise.reject(new bh(`Unable to connect to the server with any of the available transports. ${s.join(" ")}`,s)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case se.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new Vh(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case se.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new jh(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case se.LongPolling:return new Ei(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,n){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async r=>{let i=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(e,n),await this.features.resend()}catch{i=!0}else{this._stopConnection(r);return}i&&this._stopConnection(r)}:this.transport.onclose=r=>this._stopConnection(r),this.transport.connect(e,n)}_resolveTransportOrError(e,n,r,i){const o=se[e.transport];if(o==null)return this._logger.log(S.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(Wh(n,o))if(e.transferFormats.map(l=>ae[l]).indexOf(r)>=0){if(o===se.WebSockets&&!this._options.WebSocket||o===se.ServerSentEvents&&!this._options.EventSource)return this._logger.log(S.Debug,`Skipping transport '${se[o]}' because it is not supported in your environment.'`),new mh(`'${se[o]}' is not supported in your environment.`,o);this._logger.log(S.Debug,`Selecting transport '${se[o]}'.`);try{return this.features.reconnect=o===se.WebSockets?i:void 0,this._constructTransport(o)}catch(l){return l}}else return this._logger.log(S.Debug,`Skipping transport '${se[o]}' because it does not support the requested transfer format '${ae[r]}'.`),new Error(`'${se[o]}' does not support ${ae[r]}.`);else return this._logger.log(S.Debug,`Skipping transport '${se[o]}' because it was disabled by the client.`),new yh(`'${se[o]}' is disabled by the client.`,o)}_isITransport(e){return e&&typeof e=="object"&&"connect"in e}_stopConnection(e){if(this._logger.log(S.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(S.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(S.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),e?this._logger.log(S.Error,`Connection disconnected with error '${e}'.`):this._logger.log(S.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(S.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(n){this._logger.log(S.Error,`HttpConnection.onclose(${e}) threw error '${n}'.`)}}}_resolveUrl(e){if(e.lastIndexOf("https://",0)===0||e.lastIndexOf("http://",0)===0)return e;if(!Z.isBrowser)throw new Error(`Cannot resolve '${e}'.`);const n=window.document.createElement("a");return n.href=e,this._logger.log(S.Information,`Normalizing '${e}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(e){const n=new URL(e);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const r=new URLSearchParams(n.searchParams);return r.has("negotiateVersion")||r.append("negotiateVersion",this._negotiateVersion.toString()),r.has("useStatefulReconnect")?r.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&r.append("useStatefulReconnect","true"),n.search=r.toString(),n.toString()}}function Wh(t,e){return!t||(e&t)!==0}class hr{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new Wt,this._transportResult=new Wt,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new Wt),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Wt;const e=this._transportResult;this._transportResult=void 0;const n=typeof this._buffer[0]=="string"?this._buffer.join(""):hr._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),e.resolve()}catch(r){e.reject(r)}}}static _concatBuffers(e){const n=e.map(o=>o.byteLength).reduce((o,s)=>o+s),r=new Uint8Array(n);let i=0;for(const o of e)r.set(new Uint8Array(o),i),i+=o.byteLength;return r.buffer}}class Wt{constructor(){this.promise=new Promise((e,n)=>[this._resolver,this._rejecter]=[e,n])}resolve(){this._resolver()}reject(e){this._rejecter(e)}}const Kh="json";class qh{constructor(){this.name=Kh,this.version=2,this.transferFormat=ae.Text}parseMessages(e,n){if(typeof e!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];n===null&&(n=Rt.instance);const r=Se.parse(e),i=[];for(const o of r){const s=JSON.parse(o);if(typeof s.type!="number")throw new Error("Invalid payload.");switch(s.type){case N.Invocation:this._isInvocationMessage(s);break;case N.StreamItem:this._isStreamItemMessage(s);break;case N.Completion:this._isCompletionMessage(s);break;case N.Ping:break;case N.Close:break;case N.Ack:this._isAckMessage(s);break;case N.Sequence:this._isSequenceMessage(s);break;default:n.log(S.Information,"Unknown message type '"+s.type+"' ignored.");continue}i.push(s)}return i}writeMessage(e){return Se.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),e.invocationId!==void 0&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),e.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_isAckMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(e,n){if(typeof e!="string"||e==="")throw new Error(n)}}const Xh={trace:S.Trace,debug:S.Debug,info:S.Information,information:S.Information,warn:S.Warning,warning:S.Warning,error:S.Error,critical:S.Critical,none:S.None};function Yh(t){const e=Xh[t.toLowerCase()];if(typeof e<"u")return e;throw new Error(`Unknown log level: ${t}`)}class Qh{configureLogging(e){if(ne.isRequired(e,"logging"),Jh(e))this.logger=e;else if(typeof e=="string"){const n=Yh(e);this.logger=new sn(n)}else this.logger=new sn(e);return this}withUrl(e,n){return ne.isRequired(e,"url"),ne.isNotEmpty(e,"url"),this.url=e,typeof n=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...n}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:n},this}withHubProtocol(e){return ne.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new xi(e):this.reconnectPolicy=e:this.reconnectPolicy=new xi,this}withServerTimeout(e){return ne.isRequired(e,"milliseconds"),this._serverTimeoutInMilliseconds=e,this}withKeepAliveInterval(e){return ne.isRequired(e,"milliseconds"),this._keepAliveIntervalInMilliseconds=e,this}withStatefulReconnect(e){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=e==null?void 0:e.bufferSize,this}build(){const e=this.httpConnectionOptions||{};if(e.logger===void 0&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new Uh(this.url,e);return cr.create(n,this.logger||Rt.instance,this.protocol||new qh,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function Jh(t){return t.log!==void 0}const nf=({variantName:t,initialMessage:e})=>{const[n,r]=T.useState([]),[i,o]=T.useState(""),[s,l]=T.useState(""),[a,u]=T.useState(""),c=T.useRef(""),h=T.useRef(new Date().getTime().toString()),d=T.useRef(null),f=T.useRef(!1),m=T.useRef(null),_=T.useRef(!0);T.useEffect(()=>(d.current=new Qh().withUrl("https://webspark.markhazleton.com/chatHub").build(),d.current.start().then(()=>{console.log("Connected to SignalR hub")}).catch(E=>console.error("Connection failed: ",E)),d.current.on("ReceiveMessage",(E,R)=>{console.log(`Received chunk from ${E}:`,R),E===t?(c.current+=R,m.current&&clearTimeout(m.current),_.current?(r(y=>[...y,{id:`${Date.now()}`,user:E,content:R}]),_.current=!1):r(y=>{const L=[...y],D=L[L.length-1];return L[L.length-1]={...D,content:D.content+R},L}),m.current=setTimeout(()=>{_.current=!0,c.current="",m.current=null},1e3)):r(y=>[...y,{id:`${Date.now()}`,user:E,content:R}])}),()=>{var E;(E=d.current)==null||E.stop(),m.current&&clearTimeout(m.current)}),[t]);const w=()=>{var E;s.trim()&&(o(s),l(""),e&&!f.current&&(f.current=!0,(E=d.current)==null||E.invoke("SendMessage",s,e,h.current,t).catch(R=>console.error("SendMessage failed: ",R))))},b=()=>{var E;i&&a&&((E=d.current)==null||E.invoke("SendMessage",i,a,h.current,t).catch(R=>console.error("SendMessage failed: ",R)),u(""))},x=E=>{E.nativeEvent.key==="Enter"&&w()},C=({item:E})=>fe.jsxs(te,{style:[Me.messageContainer,E.user===t?Me.botMessage:Me.userMessage],children:[fe.jsxs(No,{style:Me.user,children:[E.user,":"]}),fe.jsx(ph,{children:E.content})]});return fe.jsx(te,{style:Me.container,children:i?fe.jsxs(te,{style:Me.chatContainer,children:[fe.jsx(Fs,{data:n,renderItem:C,keyExtractor:E=>E.id,contentContainerStyle:{paddingBottom:20}}),fe.jsxs(te,{style:Me.inputGroup,children:[fe.jsx(tn,{style:Me.input,placeholder:"Type your message...",value:a,onChangeText:E=>u(E),onSubmitEditing:b}),fe.jsx(pr,{variant:"primary",onClick:b,children:"Send"})]})]}):fe.jsxs(te,{style:Me.joinContainer,children:[fe.jsx(tn,{style:Me.input,placeholder:"Enter your name",value:s,onChangeText:E=>l(E),onKeyPress:x}),fe.jsx(pr,{variant:"primary",onClick:w,children:"Join Chat"})]})})},Me=at.create({container:{flex:1,padding:16},joinContainer:{flex:1,justifyContent:"center",alignItems:"center"},chatContainer:{height:"90vh",overflow:"scroll",flex:1},inputGroup:{flexDirection:"row",alignItems:"center",marginTop:10},input:{flex:1,borderWidth:1,borderColor:"#ccc",padding:10,marginVertical:10,borderRadius:5},messageContainer:{padding:8,borderRadius:5,marginVertical:4},userMessage:{backgroundColor:"#e1ffc7",alignSelf:"flex-start"},botMessage:{backgroundColor:"#d3d3d3",alignSelf:"flex-end"},user:{fontWeight:"bold"}});export{nf as C};
